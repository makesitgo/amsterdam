(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{249:function(e,t){},251:function(e,t){},305:function(e,t,n){"use strict";n.r(t);var a,r,c,s=n(1),i=n.n(s),o=n(31),l=n(3),j=n(21),u=n(160),b=n.n(u),d=n(28),O=n(17),f=n(103),m=n(9),h=n(14),x=n(16),p=n(24),g=n(39),v=n(13),y=n(10),w=n(18),k=n(106),S=n(4),C=Object(s.createContext)(null),T=function(e){var t=e.children;var n=new k.a({id:"amsterdam-ussnf",baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"/amsterdam",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REALM_APP_ID:"amsterdam-ussnf"}).REACT_APP_REALM_BASE_URL}),a=Object(s.useState)(n.currentUser),r=Object(m.a)(a,2),c=r[0],i=r[1],o=function(){var e=Object(w.a)(Object(y.a)().mark((function e(t,a){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.logIn(k.b.emailPassword(t,a));case 3:return i(n.currentUser),e.abrupt("return",n.currentUser);case 7:return e.prev=7,e.t0=e.catch(0),console.error("failed to login",e.t0),i(null),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(w.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.logIn(k.b.anonymous());case 3:return i(n.currentUser),e.abrupt("return",n.currentUser);case 7:return e.prev=7,e.t0=e.catch(0),console.error("failed to login",e.t0),i(null),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.currentUser){e.next=4;break}return e.next=4,n.currentUser.logOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("failed to logout",e.t0);case 9:return e.prev=9,i(null),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(C.Provider,{value:{login:o,loginAnonymous:l,logout:j,user:c},children:t})},_=function(){var e=Object(s.useContext)(C);if(null===e)throw new Error("useRealm() called outside of a RealmProvider");return e},B=Object(s.createContext)(null),M=function(e){var t=e.children,n=_().user,a=Object(s.useState)(null),r=Object(m.a)(a,2),c=r[0],i=r[1];return Object(s.useEffect)((function(){null!==n&&i(n.mongoClient("data"))}),[n]),Object(S.jsx)(B.Provider,{value:{data:E(c)},children:t})},P=function(){var e=Object(s.useContext)(B);if(null===e)throw new Error("useAtlas() called outside of a AtlasProvider");return e};function E(e){return e?{players:function(){return e.db("amsterdam").collection("players")},seasons:function(){return e.db("amsterdam").collection("seasons")},teams:function(){return e.db("amsterdam").collection("teams")},teamMatches:function(){return e.db("amsterdam").collection("team_matches")},playerMatches:function(){return e.db("amsterdam").collection("player_matches")}}:null}var A=x.a.div(a||(a=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),z=x.a.div(r||(r=Object(h.a)(["\n  min-width: 360px;\n  padding: 1rem;\n  border: 1px solid;\n"]))),L=x.a.div(c||(c=Object(h.a)(["\n  min-width: 360px;\n  padding: 0 1rem 1rem 1rem;\n  margin-top: 0.5rem;\n"])));var R=function(){var e,t,n=Object(O.f)(),a=Object(s.useState)(""),r=Object(m.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(""),l=Object(m.a)(o,2),j=l[0],u=l[1],b=_(),d=b.login,f=b.loginAnonymous,h=b.user,x=(null===(e=n.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";return h?Object(S.jsx)(O.a,{to:x,replace:!0}):Object(S.jsxs)(A,{children:[Object(S.jsxs)(z,{children:[Object(S.jsx)(v.a,{style:{marginBottom:"1rem"},children:"Please log in using your credentials"}),Object(S.jsx)(g.a,{label:"Username",placeholder:"your.email@example.com",onChange:function(e){i(e.target.value)},value:c}),Object(S.jsx)(g.a,{label:"Password",type:"password",onChange:function(e){u(e.target.value)},value:j}),Object(S.jsx)(p.c,{style:{marginTop:"1rem"},variant:"primary",onClick:function(){return d(c,j)},children:"Login"})]}),Object(S.jsxs)(L,{children:[Object(S.jsx)(v.a,{style:{marginBottom:"0.5rem"},children:"Or log in as a guest"}),Object(S.jsx)(p.c,{variant:"primaryOutline",onClick:function(){return f()},children:"Login Anonymously"})]})]})};var X,I,W=function(e){var t=e.children,n=_().user,a=Object(O.f)();return n?t:Object(S.jsx)(O.a,{to:"/login",state:{from:a},replace:!0})},F=n(163),D=Object(l.keyframes)(X||(X=Object(h.a)(["\n  from {\n    transform: rotate(-5deg);\n  }\n  to {\n    transform: rotate(5deg);\n  }\n"]))),U=Object(x.a)(F.a)(I||(I=Object(h.a)(["\n  display: inline-block;\n  margin: 24px;\n  animation: "," 3s infinite alternate-reverse ease-in-out;\n  transform-origin: 50% 100%;\n"])),D);var q,N,G,H=function(){return Object(S.jsx)(U,{style:{marginTop:0,marginBottom:0},height:48})},Y=x.a.div(q||(q=Object(h.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-column-gap: 5px;\n  justify-items: center;\n  margin-top: 0.5rem;\n"]))),K=x.a.ul(N||(N=Object(h.a)(["\n  margin-right: auto;\n  text-align: left;\n  display: flex;\n"]))),V=x.a.div(G||(G=Object(h.a)(["\n  margin-left: auto;\n  text-align: right;\n  padding-right: 0.5rem;\n"])));var J,Q=function(){var e=Object(O.g)(),t=_(),n=t.logout,a=t.user;return Object(S.jsxs)(Y,{children:[Object(S.jsx)(K,{children:Object(S.jsx)(d.b,{style:{margin:"1rem",textDecoration:"none"},to:"/seasons",children:"Seasons"})}),Object(S.jsxs)("span",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){return e("/")},children:[Object(S.jsx)(v.c,{children:"Amsterdam Billiards"}),Object(S.jsx)(H,{})]}),a&&Object(S.jsxs)(V,{children:[Object(S.jsx)(p.c,{variant:"primaryOutline",onClick:n,children:"Logout"}),Object(S.jsx)(v.a,{children:"anon-user"===a.providerType?"Guest":a.profile.email||a.id})]})]})},$=n(29),Z=n(33),ee=n(40),te=x.a.header(J||(J=Object(h.a)(["\n  margin-top: 0.5rem;\n  display: flex;\n  justify-items: space-between;\n  align-items: center;\n"])));var ne,ae,re,ce=function(){var e=Object(s.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],r=_(),c=r.logout,i=r.user;return Object(S.jsxs)(te,{children:[Object(S.jsx)(H,{}),Object(S.jsx)(v.c,{style:{flex:1},children:"Amsterdam Billiards"}),Object(S.jsxs)(ee.a,{align:"bottom",justify:"end",open:n,trigger:Object(S.jsx)(Z.a,{size:"xlarge","aria-label":"User Menu",onClick:function(){return a(!n)},children:Object(S.jsx)($.a,{glyph:"Ellipsis"})}),children:[Object(S.jsx)(ee.b,{href:"/amsterdam",children:"Standings"}),Object(S.jsx)(ee.b,{href:"/amsterdam/team",children:"Team Results"}),Object(S.jsx)(ee.b,{href:"/amsterdam/players",children:"Individual Results"}),Object(S.jsx)(ee.c,{}),!i&&Object(S.jsx)(ee.b,{href:"/amsterdam/login",children:"Login"}),i&&Object(S.jsx)(ee.b,{onClick:c,description:"anon-user"===i.providerType?"As guest":i.profile.email||i.id,children:"Logout"})]})]})},se=n(56),ie=x.a.div(ne||(ne=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  justify-content: center;\n"]))),oe=x.a.ol(ae||(ae=Object(h.a)(["\n  list-style: auto;\n"]))),le=x.a.ol(re||(re=Object(h.a)(["\n  list-style: disc;\n  margin-left: 1rem;\n"])));var je,ue=function(){return Object(S.jsxs)(ie,{children:[Object(S.jsx)(v.d,{children:"Welcome to Amsterdam Billiards Information"}),Object(S.jsxs)(se.a,{children:[Object(S.jsx)(p.c,{href:"http://amsterdambilliards.com/",target:"_blank",rel:"noopener noreferrer",children:"Official Amsterdam Billiards & Bar website"}),Object(S.jsx)(p.c,{href:"/amsterdam/seasons/2022/summer/team_8ball",children:"Team 8-Ball League Site"})]}),Object(S.jsx)(v.e,{children:"Why You Should Join an Amsterdam Billiards League:"}),Object(S.jsxs)(oe,{children:[Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"The leagues are for players of all levels, including beginners and Pros"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"You'll have fun"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"You'll improve your pool game"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"It's a great way to meet other pool players"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"The leagues are co-ed"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"They're inexpensive"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"The prizes are great"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"They're easy to join (just sign up in the club at the front desk or by clicking 'Register Now!' on this page)"})}),Object(S.jsxs)("li",{children:[Object(S.jsx)(v.a,{children:"You get a lot of free stuff:"}),Object(S.jsxs)(le,{children:[Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"Play pool for free for a week"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"3 hours of free play every week while the league lasts"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"Get a dollar off all drinks while you're playing in the leagues"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"Mid-Season league party"})}),Object(S.jsx)("li",{children:Object(S.jsx)(v.a,{children:"League Finals & Registration signup party"})})]})]})]}),Object(S.jsx)(p.c,{href:"https://amsterdambilliards.com/leagues/",target:"_blank",rel:"noopener noreferrer",children:"Register Now!"})]})},be=n(32),de=n(7),Oe=n(15),fe=n(104),me=x.a.div(je||(je=Object(h.a)(["\n  margin: 0 auto;\n  max-width: 62%;\n  @media (max-width: 720px) {\n    max-width: 100%;\n  }\n"])));var he,xe=function(e){var t=e.children;return Object(S.jsx)(me,{children:t})},pe=n(69),ge=["children"],ve=Object(x.a)(p.c)(he||(he=Object(h.a)(["\n  border: 0;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.lg.blue.base}));var ye,we,ke,Se,Ce=function(e){var t=e.children,n=Object(pe.a)(e,ge);return Object(S.jsx)(ve,Object(de.a)(Object(de.a)({},n),{},{children:t}))},Te=n(72),_e=n(70),Be=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},Me=function(e){switch(e){case"winter":case"spring":case"summer":case"fall":return!0}return!1},Pe=x.a.div(ye||(ye=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),Ee=x.a.div(we||(we=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-left: 2rem;\n  }\n"]))),Ae=x.a.div(ke||(ke=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]))),ze=x.a.div(Se||(Se=Object(h.a)(["\n  display: flex;\n"])));var Le,Re,Xe=function(e){var t=e.season,n=e.teams,a=e.saveDivisions,r=e.saveTeams,c=Object(O.g)(),i=Object(s.useState)(!Object.values(t.divisions).reduce((function(e,t){return e+t.length}),0)),o=Object(m.a)(i,2),l=o[0],j=o[1],u=Object(s.useState)(""),b=Object(m.a)(u,2),d=b[0],f=b[1],h=Object(s.useState)(t.nights.reduce((function(e,n){var a=t.divisions[n]||[];return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},n,a.length>0?a:[""]))}),{})),x=Object(m.a)(h,2),k=x[0],C=x[1],T=Object(s.useState)(!!Object.values(t.divisions).reduce((function(e,t){return e+t.length}),0)),_=Object(m.a)(T,2),B=_[0],M=_[1],P=Object(s.useState)(""),E=Object(m.a)(P,2),A=E[0],z=E[1],L=Object(s.useState)({}),R=Object(m.a)(L,2),X=R[0],I=R[1];return Object(s.useEffect)((function(){I(Object.entries(k).reduce((function(e,t){var a=Object(m.a)(t,2),r=a[0],c=a[1];return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},r,c.reduce((function(e,t){var a=n.filter((function(e){return e.division_name===t})).map((function(e){return{xref:e.xref+"",name:e.name}}));return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t,a.length>0?a:[{xref:"",name:""}]))}),{})))}),{}))}),[t,n,k]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.c,{variant:"primaryOutline",onClick:function(){return c("..")},children:"Back to Dashboard"}),Object(S.jsxs)(Te.a,{title:"Admin: Divisions",description:"Make sure the league divisions are correct",isOpen:l,onClick:function(){return j(!l)},children:[Object(S.jsx)(Pe,{children:t.nights.map((function(e){return Object(S.jsxs)(Ee,{children:[Object(S.jsxs)(Ae,{children:[Object(S.jsx)(v.g,{children:Be(e)}),Object(S.jsx)(p.c,{size:"xsmall",onClick:function(){return C(Object(de.a)(Object(de.a)({},k),{},Object(Oe.a)({},e,[].concat(Object(be.a)(k[e]||[]),[""]))))},children:"+"})]}),(k[e]||[]).map((function(t,n){return Object(S.jsx)(g.a,{style:{marginBottom:"0.5rem"},label:"Division #".concat(n),value:t,onChange:function(t){return C(Object(de.a)(Object(de.a)({},k),{},Object(Oe.a)({},e,(k[e]||[]).map((function(e,a){return a===n?t.target.value:e})))))}},t+n)}))]},e)}))}),Object(S.jsx)(_e.a,{primaryButton:{text:"Save",onClick:function(){var e=Object(w.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a(k),j(!1),M(!0),f("")}catch(t){n=t.error,f("failed to save divisions: ".concat(n))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},errorMessage:d})]}),Object(S.jsxs)(Te.a,{title:"Admin: Teams",description:"Make sure the league teams are correct",isOpen:B,onClick:function(){return M(!B)},children:[Object.entries(X).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(S.jsx)(Pe,{children:Object.entries(a).map((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(S.jsxs)(Ee,{children:[Object(S.jsxs)(Ae,{children:[Object(S.jsx)(v.g,{children:a}),Object(S.jsx)(p.c,{size:"xsmall",onClick:function(){return I(Object(de.a)(Object(de.a)({},X),{},Object(Oe.a)({},n,Object(de.a)(Object(de.a)({},X[n]||{}),{},Object(Oe.a)({},a,[].concat(Object(be.a)((X[n]||{})[a]||[]),[{xref:"",name:""}]))))))},children:"+"})]}),r.map((function(e,t){return Object(S.jsxs)(ze,{children:[Object(S.jsx)(g.a,{label:"Team #".concat(t," Key"),value:e.xref,onChange:function(e){return I(Object(de.a)(Object(de.a)({},X),{},Object(Oe.a)({},n,Object(de.a)(Object(de.a)({},X[n]||{}),{},Object(Oe.a)({},a,((X[n]||{})[a]||[]).map((function(n,a){return a===t?Object(de.a)(Object(de.a)({},n),{},{xref:e.target.value}):n})))))))}}),Object(S.jsx)(g.a,{label:"Team #".concat(t," Name"),value:e.name,onChange:function(e){return I(Object(de.a)(Object(de.a)({},X),{},Object(Oe.a)({},n,Object(de.a)(Object(de.a)({},X[n]||{}),{},Object(Oe.a)({},a,((X[n]||{})[a]||[]).map((function(n,a){return a===t?Object(de.a)(Object(de.a)({},n),{},{name:e.target.value}):n})))))))}})]},t)}))]},a)}))},n)})),Object(S.jsx)(_e.a,{primaryButton:{text:"Save",onClick:function(){var e=Object(w.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(Object.entries(X).flatMap((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return Object.entries(a).flatMap((function(e){var t=Object(m.a)(e,2),a=t[0];return t[1].map((function(e){return{xref:parseInt(e.xref,10),name:e.name,night:n,division_name:a}}))}))})).filter((function(e){return!!e.xref})));case 3:M(!1),z(""),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.error,z("failed to save teams: ".concat(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},errorMessage:A})]})]})},Ie=n(108),We=n(12),Fe=x.a.div(Le||(Le=Object(h.a)(["\n  padding: 0 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),De=Object(x.a)(We.b,{shouldForwardProp:function(e){return"win"!==e&&"loss"!==e}})(Re||(Re=Object(h.a)(["\n  ","\n"])),(function(e){var t=e.theme,n=e.win,a=e.loss;return n?{backgroundColor:t.colors.lg.green.light2}:a?{backgroundColor:t.colors.lg.red.light2}:{}}));var Ue,qe,Ne=function(e){var t,n=e.playerMatchesByXref,a=e.playersByTeamXref,r=e.teamsByXref,c=null===(t=Object(O.f)().state)||void 0===t?void 0:t.xref,i=Object(s.useState)(),o=Object(m.a)(i,2),l=o[0],j=o[1];Object(s.useEffect)((function(){j(c)}),[c]);var u=Object(s.useState)([]),b=Object(m.a)(u,2),d=b[0],f=b[1];return Object(s.useEffect)((function(){l&&f(n[l])}),[l,n]),Object(S.jsxs)(Fe,{children:[Object(S.jsx)(Ie.a,{label:"Player Name",description:"Choose a player to view stats",placeholder:"Select a player...",value:l,onChange:j,children:Object.entries(a).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(S.jsx)(Ie.b,{label:r[n].name,children:a.map((function(e){return Object(S.jsx)(Ie.c,{value:e.xref+"",displayName:e.name},e.xref)}))},n)}))}),l&&Object(S.jsx)(We.c,{data:d,columns:[Object(S.jsx)(We.d,{label:"Date"}),Object(S.jsx)(We.d,{label:"Matchup"}),Object(S.jsx)(We.d,{label:"Opp Player"}),Object(S.jsx)(We.d,{label:"Opp Team"}),Object(S.jsx)(We.d,{label:"Round"}),Object(S.jsx)(We.d,{label:"Games Won"}),Object(S.jsx)(We.d,{label:"Games Lost"}),Object(S.jsx)(We.d,{label:"Forfeit"})],children:function(e){var t=e.datum,n=t.players.find((function(e){return e.xref+""===l}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0},a=t.players.find((function(e){return e.xref+""!==l}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0};return Object(S.jsxs)(De,{win:n.win,loss:n.loss,children:[Object(S.jsx)(We.a,{children:t.date.toLocaleDateString()}),Object(S.jsx)(We.a,{children:"".concat(n.handicap," vs ").concat(a.handicap)}),Object(S.jsx)(We.a,{children:a.name}),Object(S.jsx)(We.a,{children:a.team.name}),Object(S.jsx)(We.a,{children:t.type}),Object(S.jsx)(We.a,{children:n.games_won}),Object(S.jsx)(We.a,{children:a.games_won}),Object(S.jsx)(We.a,{children:t.forfeit?"Y":""})]},t.match_id)}})]})},Ge=n(102),He=x.a.div(Ue||(Ue=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Ye=x.a.div(qe||(qe=Object(h.a)(["\n  align-self: stretch;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-column-gap: 5px;\n"])));var Ke,Ve=function(e){var t=e.modalView,n=e.team,a=e.teamRecord;if(!n)return null;var r="".concat(n.name," (").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wins:0,losses:0};return"".concat(e.wins,"-").concat(e.losses)}(a),")");return t?Object(S.jsxs)(He,{children:[Object(S.jsx)(v.d,{children:r}),Object(S.jsx)(d.b,{to:n.xref+"",children:"Detailed View"})]}):Object(S.jsxs)(Ye,{children:[Object(S.jsx)(v.d,{style:{gridColumn:2},children:r}),Object(S.jsx)(d.b,{to:"..",style:{marginLeft:"auto",textAlign:"right"},children:"Back to Standings"})]})},Je=Object(x.a)(We.b,{shouldForwardProp:function(e){return"win"!==e&&"loss"!==e}})(Ke||(Ke=Object(h.a)(["\n  ","\n"])),(function(e){var t=e.theme,n=e.win,a=e.loss;return n?{backgroundColor:t.colors.lg.green.light2}:a?{backgroundColor:t.colors.lg.red.light2}:{}}));var Qe=function(e){var t=e.playerMatches,n=e.selfTeamXref;return Object(S.jsx)(We.c,{data:t,columns:[Object(S.jsx)(We.d,{label:"Player"}),Object(S.jsx)(We.d,{label:"HCP"}),Object(S.jsx)(We.d,{label:"Games"}),Object(S.jsx)(We.d,{label:"Opponent"}),Object(S.jsx)(We.d,{label:"HCP"}),Object(S.jsx)(We.d,{label:"Games"})],children:function(e){var t=e.datum,a=t.players.find((function(e){return e.team.xref===n}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0},r=t.players.find((function(e){return e.team.xref!==n}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0};return Object(S.jsxs)(Je,{win:a.win,loss:a.loss,children:[Object(S.jsx)(We.a,{children:a.name}),Object(S.jsx)(We.a,{children:a.handicap}),Object(S.jsx)(We.a,{children:a.games_won}),Object(S.jsx)(We.a,{children:r.name}),Object(S.jsx)(We.a,{children:r.handicap}),Object(S.jsx)(We.a,{children:r.games_won})]},t._id)}})};var $e,Ze=function(e){var t=e.linkToPlayers,n=void 0===t?"players":t,a=e.playerMatches,r=e.selfTeamXref,c=Object(O.g)(),i=Object(s.useMemo)((function(){var e={},t={wins:0,losses:0,gamesWon:0,gamesLost:0},n=Object.entries(a.reduce((function(n,a){var c=a.players.find((function(e){return e.team.xref===r}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0},s=a.players.find((function(e){return e.team.xref!==r}))||{xref:0,name:"",team:{xref:0,name:""},handicap:0,games_won:0};"TB"!==a.type&&(e[c.xref]||(e[c.xref]={}),e[c.xref][a.week_num]||(e[c.xref][a.week_num]=0),e[c.xref][a.week_num]++);var i=n[c.xref]||function(){return{xref:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",handicap:0,doubles:0,wins:0,losses:0,gamesWon:0,gamesLost:0,gamePct:0}}(c.xref,c.name);return i.handicap=c.handicap,i.wins+=c.win?1:0,i.losses+=c.loss?1:0,i.gamesWon+=c.games_won,i.gamesLost+=s.games_won,t.wins+=c.win?1:0,t.losses+=c.loss?1:0,t.gamesWon+=c.games_won,t.gamesLost+=s.games_won,Object(de.a)(Object(de.a)({},n),{},Object(Oe.a)({},c.xref,i))}),{})).map((function(t){var n=Object(m.a)(t,2),a=n[0],r=n[1];return Object(de.a)(Object(de.a)({},r),{},{gamePct:r.gamesWon/(r.gamesWon+r.gamesLost),doubles:Object.values(e[a]||{}).filter((function(e){return e>1})).length})}));return n.sort((function(e,t){return t.gamePct-e.gamePct})),n.push(Object(de.a)({xref:0,name:"Totals",handicap:"",doubles:"",gamePct:t.gamesWon/(t.gamesWon+t.gamesLost)},t)),n}),[a,r]);return Object(S.jsx)(We.c,{data:i,columns:[Object(S.jsx)(We.d,{label:"Name"}),Object(S.jsx)(We.d,{label:"HCP"}),Object(S.jsx)(We.d,{label:"DB's"}),Object(S.jsx)(We.d,{label:"W"}),Object(S.jsx)(We.d,{label:"L"}),Object(S.jsx)(We.d,{label:"GF"}),Object(S.jsx)(We.d,{label:"GA"}),Object(S.jsx)(We.d,{label:"PCT"})],children:function(e){var t=e.datum;return Object(S.jsxs)(We.b,{children:[Object(S.jsx)(We.a,{children:Object(S.jsx)(Ce,{onClick:function(){return c(n,{state:{xref:t.xref+""}})},children:t.name})}),Object(S.jsx)(We.a,{children:t.handicap}),Object(S.jsx)(We.a,{children:t.doubles}),Object(S.jsx)(We.a,{children:t.wins}),Object(S.jsx)(We.a,{children:t.losses}),Object(S.jsx)(We.a,{children:t.gamesWon}),Object(S.jsx)(We.a,{children:t.gamesLost}),Object(S.jsx)(We.a,{children:t.gamePct.toFixed(3)})]},t.xref)}})},et=x.a.div($e||($e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  justify-content: center;\n  max-width: 100%;\n"])));var tt,nt,at,rt=function(e){var t=e.linkToPlayers,n=e.playerMatchesByTeamXref,a=e.team,r=e.teamMatchesById,c=e.teamRecordsByXref,i=Object(s.useState)({}),o=Object(m.a)(i,2),l=o[0],j=o[1];return Object(s.useEffect)((function(){var e=(n[(null===a||void 0===a?void 0:a.xref)||0]||[]).reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t.match_id,[].concat(Object(be.a)(e[t.match_id]||[]),[t])))}),{});Object.entries(e).forEach((function(t){var n=Object(m.a)(t,2),a=n[0],r=n[1];r.sort((function(e,t){return e.seq-t.seq})),e[a]=r})),j(e)}),[null===a||void 0===a?void 0:a.xref,n]),a?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.e,{style:{marginTop:"1rem"},children:"Player Results"}),Object(S.jsx)(Ze,{linkToPlayers:t,playerMatches:n[a.xref]||[],selfTeamXref:a.xref}),Object(S.jsx)(v.e,{style:{marginTop:"1rem"},children:"Team Results"}),Object(S.jsx)(et,{children:a.schedule.map((function(e){var s=e.display,i=e.match_id,o=e.opp,j=function(e,t){var n=t.teams.find((function(t){return t.xref===e}))||{xref:0,name:"",games_won:0,matches_won:0},a=t.teams.find((function(t){return t.xref!==e}))||{xref:0,name:"",games_won:0,matches_won:0};return{self:n,opp:a}}(a.xref,r[i||""]||{teams:[]});return Object(S.jsxs)(Te.a,{title:"".concat(s,": vs. ").concat(o.name," (").concat(st(c[o.xref]),")"),description:i?ct(j):"",children:[!i&&Object(S.jsx)(Ze,{linkToPlayers:t,playerMatches:n[o.xref]||[],selfTeamXref:o.xref}),i&&Object(S.jsx)(Qe,{playerMatches:l[i||""]||[],selfTeamXref:a.xref})]},s)}))})]}):null};function ct(e){var t=e.self,n=e.opp;return"".concat(t.win?"\u2705 Win":"\ud83d\udca9 Loss",": ").concat(t.matches_won,"-").concat(n.matches_won,", ").concat(t.games_won,"-").concat(n.games_won)}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wins:0,losses:0};return"".concat(e.wins,"-").concat(e.losses)}var it=x.a.div(tt||(tt=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),ot=x.a.div(nt||(nt=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 1rem;\n"]))),lt=x.a.div(at||(at=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n"])));var jt,ut=function(e){var t=e.playerMatchesByTeamXref,n=e.season,a=e.teamsByXref,r=e.teamMatchesById,c=(e.teamMatchesByXref,e.teamRecordsByXref),i=Object(O.g)(),o=Object(s.useState)({}),l=Object(m.a)(o,2),j=l[0],u=l[1];Object(s.useEffect)((function(){u(Object.values(a).reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t.division_name,[].concat(Object(be.a)(e[t.division_name]||[]),[t.xref])))}),{}))}),[a]);var b=Object(s.useState)({}),d=Object(m.a)(b,2),h=d[0],x=d[1];Object(s.useEffect)((function(){x(Object.entries(j).reduce((function(e,t){var n=Object(m.a)(t,2),a=n[0],r=n[1].map((function(e){return c[e]||{xref:0,name:"",rank:0,wins:0,losses:0,pct:0}}));return r.sort((function(e,t){return e.wins===t.wins?e.losses===t.losses?t.pct-e.pct:e.losses-t.losses:t.wins-e.wins})),Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},a,r.map((function(e,t){return Object(de.a)(Object(de.a)({},e),{},{rank:t+1})}))))}),{}))}),[j,c]);var p=Object(s.useState)(0),g=Object(m.a)(p,2),y=g[0],w=g[1],k=Object(f.useMediaQuery)({query:"(max-width: 720px)"});return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(it,{children:n.nights.map((function(e){return Object(S.jsxs)(ot,{children:[Object(S.jsx)(v.d,{style:{marginBottom:"1rem"},children:Be(e)}),n.divisions[e].map((function(e){return Object(S.jsx)(lt,{children:h[e]&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.e,{children:e}),Object(S.jsx)(We.c,{data:h[e],columns:[Object(S.jsx)(We.d,{label:"Place"}),Object(S.jsx)(We.d,{label:"Team Name"}),Object(S.jsx)(We.d,{label:"W's"}),Object(S.jsx)(We.d,{label:"L's"}),Object(S.jsx)(We.d,{label:"PCT."})],children:function(e){var t=e.datum;return Object(S.jsxs)(We.b,{children:[Object(S.jsx)(We.a,{children:t.rank}),Object(S.jsx)(We.a,{children:Object(S.jsx)(Ce,{onClick:function(){return k?i(t.xref+""):w(t.xref)},children:t.name})}),Object(S.jsx)(We.a,{children:t.wins}),Object(S.jsx)(We.a,{children:t.losses}),Object(S.jsx)(We.a,{children:t.pct.toFixed(3)})]},t.xref)}})]})},e)}))]},e)}))}),Object(S.jsx)(Ge.a,{open:!!y,setOpen:function(e){e||w(0)},children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ve,{modalView:!0,team:a[y],teamRecord:c[y]}),Object(S.jsx)(rt,{playerMatchesByTeamXref:t,team:a[y],teamMatchesById:r,teamRecordsByXref:c})]})})]})},bt=x.a.div(jt||(jt=Object(h.a)(["\n  padding: 0 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])));var dt=function(e){var t=e.playerMatchesByTeamXref,n=e.teamsByXref,a=e.teamMatchesById,r=e.teamRecordsByXref,c=Object(O.h)().xref,i=Object(s.useState)(),o=Object(m.a)(i,2),l=o[0],j=o[1],u=Object(s.useState)(),b=Object(m.a)(u,2),d=b[0],f=b[1];return Object(s.useEffect)((function(){c&&(j(n[c]),f(r[c]))}),[n,r,c]),Object(S.jsxs)(bt,{children:[Object(S.jsx)(Ve,{team:l,teamRecord:d}),Object(S.jsx)(rt,{linkToPlayers:"../players",playerMatchesByTeamXref:t,team:l,teamMatchesById:a,teamRecordsByXref:r})]})};var Ot=function(e){var t=e.seasons,n=e.loadPlayerMatches,a=e.loadTeams,r=e.loadTeamMatches,c=e.saveDivisions,i=e.saveTeams,o=Object(O.h)(),l=o.year,j=o.term,u=o.type,b=Object(s.useMemo)((function(){return t.find((function(e){return e.year+""===l&&e.term===j&&e.type===u}))}),[t,l,j,u]),d=Object(s.useState)([]),f=Object(m.a)(d,2),h=f[0],x=f[1],p=Object(s.useState)({}),g=Object(m.a)(p,2),v=g[0],y=g[1];Object(s.useEffect)((function(){b&&a(b.xref).then((function(e){x(e),y(e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t.xref,t))}),{}))}))}),[a,b]);var w=Object(s.useState)({}),k=Object(m.a)(w,2),C=k[0],T=k[1],_=Object(s.useState)({}),B=Object(m.a)(_,2),M=B[0],P=B[1],E=Object(s.useState)({}),A=Object(m.a)(E,2),z=A[0],L=A[1];Object(s.useEffect)((function(){b&&r(b.xref).then((function(e){T(e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),t.teams.reduce((function(n,a){return Object(de.a)(Object(de.a)({},n),{},Object(Oe.a)({},a.xref,[].concat(Object(be.a)(e[a.xref]||[]),[t])))}),{}))}),{}));var t=e.reduce((function(e,t){var n=0,a=t.teams.reduce((function(t,a){var r=e[a.xref]||function(){return{xref:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",wins:0,losses:0,gamesWon:0,gamesTotal:0}}(a.xref,a.name);return r.wins+=a.win?1:0,r.losses+=a.loss?1:0,r.gamesWon+=a.games_won,n+=a.games_won,Object(de.a)(Object(de.a)({},t),{},Object(Oe.a)({},a.xref,r))}),{});return Object.values(a).forEach((function(e){e.gamesTotal+=n})),Object(de.a)(Object(de.a)({},e),a)}),{});P(Object.entries(t).reduce((function(e,t){var n=Object(m.a)(t,2),a=n[0],r=n[1];return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},a,{xref:r.xref,name:r.name,rank:0,wins:r.wins,losses:r.losses,pct:r.gamesWon/r.gamesTotal}))}),{})),L(e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t._id,t))}),{}))}))}),[r,b]);var R=Object(s.useState)([]),X=Object(m.a)(R,2),I=X[0],W=X[1],F=Object(s.useState)({}),D=Object(m.a)(F,2),U=D[0],q=D[1],N=Object(s.useState)({}),G=Object(m.a)(N,2),H=G[0],Y=G[1],K=Object(s.useState)({}),V=Object(m.a)(K,2),J=V[0],Q=V[1];return Object(s.useEffect)((function(){b&&n(b.xref).then((function(e){W(e);var t=e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),t.players.reduce((function(n,a){return Object(de.a)(Object(de.a)({},n),{},Object(Oe.a)({},a.xref,[].concat(Object(be.a)(e[a.xref]||[]),[t])))}),{}))}),{});Object.values(t).forEach((function(e){e.sort((function(e,t){return t.date.getTime()-e.date.getTime()}))})),q(t),Y(e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),t.players.reduce((function(n,a){return Object(de.a)(Object(de.a)({},n),{},Object(Oe.a)({},a.team.xref,[].concat(Object(be.a)(e[a.team.xref]||[]),[t])))}),{}))}),{})),Q(Object.entries(e.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),t.players.reduce((function(t,n){return Object(de.a)(Object(de.a)({},t),{},Object(Oe.a)({},n.team.xref,Object(de.a)(Object(de.a)({},e[n.team.xref]||{}),{},Object(Oe.a)({},n.xref,n))))}),{}))}),{})).reduce((function(e,t){var n=Object(m.a)(t,2),a=n[0],r=n[1],c=Object.values(r);return c.sort((function(e,t){return e.xref-t.xref})),Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},a,c))}),{}))}))}),[n,b]),b?Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{path:"/",element:Object(S.jsx)(ut,{season:b,playerMatches:I,playerMatchesByTeamXref:H,teamsByXref:v,teamMatchesById:z,teamMatchesByXref:C,teamRecordsByXref:M})}),Object(S.jsx)(O.b,{path:"admin",element:Object(S.jsx)(Xe,{season:b,teams:h,saveDivisions:function(e){return c(b.xref,e)},saveTeams:function(e){return i(b.xref,e)}})}),Object(S.jsx)(O.b,{path:"players",element:Object(S.jsx)(Ne,{playerMatchesByXref:U,playersByTeamXref:J,teamsByXref:v,teamMatchesById:z})}),Object(S.jsx)(O.b,{path:":xref",element:Object(S.jsx)(dt,{playerMatchesByTeamXref:H,teamsByXref:v,teamMatchesById:z,teamRecordsByXref:M})})]}):Object(S.jsx)(xe,{children:Object(S.jsx)(fe.a,{variant:"danger",children:"The specified season does not exist, please check your URL."})})},ft=n(43),mt=n(44);var ht,xt,pt,gt=function(e){var t=e.saveSeason,n=Object(s.useState)(""),a=Object(m.a)(n,2),r=a[0],c=a[1],i=Object(s.useState)(""),o=Object(m.a)(i,2),l=o[0],j=o[1],u=Object(s.useState)(""),b=Object(m.a)(u,2),d=b[0],O=b[1],f=Object(s.useState)(""),h=Object(m.a)(f,2),x=h[0],p=h[1],k=Object(s.useState)(""),C=Object(m.a)(k,2),T=C[0],_=C[1],B=Object(s.useState)(!1),M=Object(m.a)(B,2),P=M[0],E=M[1],A=Object(s.useState)(!1),z=Object(m.a)(A,2),L=z[0],R=z[1],X=Object(s.useState)(!1),I=Object(m.a)(X,2),W=I[0],F=I[1],D=Object(s.useState)(!1),U=Object(m.a)(D,2),q=U[0],N=U[1],G=Object(s.useState)(!1),H=Object(m.a)(G,2),Y=H[0],K=H[1],V=Object(s.useState)(!1),J=Object(m.a)(V,2),Q=J[0],$=J[1],Z=Object(s.useState)(!1),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(s.useState)(""),re=Object(m.a)(ae,2),ce=re[0],se=re[1],ie=Object(s.useState)(""),oe=Object(m.a)(ie,2),le=oe[0],je=oe[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(mt.b,{label:"Year",placeholder:"Choose a year...",value:r,onChange:c,children:Object(S.jsx)(mt.a,{value:"2022",children:"2022"})}),Object(S.jsxs)(mt.b,{label:"Term",placeholder:"Choose a term...",value:l,onChange:j,children:[Object(S.jsx)(mt.a,{value:"winter",children:"Winter"}),Object(S.jsx)(mt.a,{value:"spring",children:"Spring"}),Object(S.jsx)(mt.a,{value:"summer",children:"Summer"}),Object(S.jsx)(mt.a,{value:"fall",children:"Fall"})]}),Object(S.jsx)(mt.b,{label:"League type",placeholder:"Choose a league...",value:d,onChange:O,children:Object(S.jsx)(mt.a,{value:"team_8ball",children:"Team 8 Ball"})}),Object(S.jsx)(g.a,{label:"Amsterdam Key",description:"Enter the Amsterdam site season id",onChange:function(e){return p(e.target.value)},value:x}),Object(S.jsx)(g.a,{label:"Name",description:"Enter the season name",onChange:function(e){return _(e.target.value)},value:T}),Object(S.jsxs)("div",{children:[Object(S.jsx)(v.a,{children:"Select the nights the league plays on"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(ft.a,{label:"Monday",checked:P,onChange:function(e){return E(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Tuesday",checked:L,onChange:function(e){return R(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Wednesday",checked:W,onChange:function(e){return F(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Thursday",checked:q,onChange:function(e){return N(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Friday",checked:Y,onChange:function(e){return K(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Saturday",checked:Q,onChange:function(e){return $(e.target.checked)}}),Object(S.jsx)(ft.a,{label:"Sunday",checked:te,onChange:function(e){return ne(e.target.checked)}})]})]}),Object(S.jsx)(g.a,{label:"Season length",description:"Enter the number of weeks of the regular season",onChange:function(e){return se(e.target.value)},value:ce}),Object(S.jsx)(_e.a,{primaryButton:{text:"Save",onClick:function(){var e=Object(w.a)(Object(y.a)().mark((function e(n){var a,c,s,i,o,j,u;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),a=0,e.prev=2,a=parseInt(r,10),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),je("invalid year value: ".concat(e.t0)),e.abrupt("return");case 10:if(c="winter",!Me(l)){e.next=15;break}c=l,e.next=17;break;case 15:return je("invalid season term: ".concat(l)),e.abrupt("return");case 17:if(s="team_8ball","team_8ball"!==d){e.next=22;break}c=l,e.next=24;break;case 22:return je("invalid league type: ".concat(l)),e.abrupt("return");case 24:i=0,e.prev=25,i=parseInt(x,10),e.next=33;break;case 29:return e.prev=29,e.t1=e.catch(25),je("invalid amsterdam key: ".concat(e.t1)),e.abrupt("return");case 33:o=0,e.prev=34,o=parseInt(ce,10),e.next=42;break;case 38:return e.prev=38,e.t2=e.catch(34),je("invalid amsterdam key: ".concat(e.t2)),e.abrupt("return");case 42:return j=[],P&&j.push("monday"),L&&j.push("tuesday"),W&&j.push("wednesday"),q&&j.push("thursday"),Y&&j.push("friday"),Q&&j.push("saturday"),te&&j.push("sunday"),e.prev=50,e.next=53,t({year:a,term:c,type:s,xref:i,name:T,num_weeks:o,nights:j,divisions:j.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),{},Object(Oe.a)({},t,[]))}),{})});case 53:e.next=59;break;case 55:e.prev=55,e.t3=e.catch(50),u=e.t3.error,je("failed to save season: ".concat(u));case 59:case"end":return e.stop()}}),e,null,[[2,6],[25,29],[34,38],[50,55]])})));return function(t){return e.apply(this,arguments)}}()},errorMessage:le})]})},vt=x.a.div(ht||(ht=Object(h.a)([""]))),yt=x.a.div(xt||(xt=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),wt=x.a.div(pt||(pt=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n"])));var kt=function(e){var t=e.seasons,n=e.saveSeason,a=Object(O.g)(),r=P().data,c=Object(s.useState)(!1),i=Object(m.a)(c,2),o=i[0],l=i[1];return r?Object(S.jsxs)(vt,{children:[Object(S.jsx)(v.d,{children:"Pick a season:"}),Object(S.jsxs)(yt,{children:[t.map((function(e){return Object(S.jsx)(se.a,{style:{minWidth:"360px"},onClick:function(){return a("".concat(e.year,"/").concat(e.term,"/").concat(e.type))},children:Object(S.jsxs)(wt,{children:[Object(S.jsx)(v.g,{children:e.name}),Object(S.jsx)(ee.a,{align:"bottom",justify:"start",trigger:Object(S.jsx)(p.c,{type:"button",size:"xsmall",onClick:function(e){return e.stopPropagation()},name:"options",children:Object(S.jsx)($.a,{glyph:"Ellipsis"})}),children:Object(S.jsx)(ee.b,{children:"Delete season"})})]})},e.xref)})),Object(S.jsx)(se.a,{style:{minWidth:"180px"},onClick:function(){return l(!0)},children:"Create a new season..."})]}),Object(S.jsx)(Ge.a,{open:o,setOpen:l,children:Object(S.jsx)(gt,{saveSeason:function(e){return n(e).then((function(){return l(!1)}))}})})]}):null};var St=function(){var e=P().data,t=Object(s.useState)([]),n=Object(m.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){e&&e.seasons().find().then(r)}),[e]),e?Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{path:"/",element:Object(S.jsx)(kt,{seasons:a,saveSeason:function(t){return e.seasons().insertOne(t).then((function(e){var n=e.insertedId;return r([].concat(Object(be.a)(a),[Object(de.a)(Object(de.a)({},t),{},{_id:n})]))}))}})}),Object(S.jsx)(O.b,{path:":year/:term/:type/*",element:Object(S.jsx)(Ot,{seasons:a,loadPlayerMatches:function(t){return e.playerMatches().find({season_xref:t})},loadTeams:function(t){return e.teams().find({season_xref:t})},loadTeamMatches:function(t){return e.teamMatches().find({season_xref:t})},saveDivisions:function(t,n){return e.seasons().updateOne({xref:t},{$set:{divisions:n}}).then((function(e){if(1!==e.modifiedCount)throw new Error("failed to update season "+t);r(a.map((function(e){return e.xref!==t?e:Object(de.a)(Object(de.a)({},e),{},{divisions:n})})))}))},saveTeams:function(t,n){return e.teams().insertMany(n.map((function(e){return Object(de.a)(Object(de.a)({},e),{},{season_xref:t,schedule:[]})}))).then((function(){}))}})})]}):null};var Ct,Tt,_t=function(){var e=Object(f.useMediaQuery)({query:"(max-width: 720px)"});return Object(S.jsxs)(S.Fragment,{children:[e?Object(S.jsx)(ce,{}):Object(S.jsx)(Q,{}),Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{path:"/",element:Object(S.jsx)(W,{children:Object(S.jsx)(ue,{})})}),Object(S.jsx)(O.b,{path:"seasons/*",element:Object(S.jsx)(W,{children:Object(S.jsx)(St,{})})}),Object(S.jsx)(O.b,{path:"login",element:Object(S.jsx)(R,{})})]})]})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,308)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},Mt="".concat("https://d2va9gm4j17fy9.cloudfront.net","/fonts"),Pt=Object(l.css)(Ct||(Ct=Object(h.a)(["\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: normal;\n    src: url('","/akzidgrostdreg.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdreg.eot?#iefix')\n        format('embedded-opentype'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdreg.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdreg.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: 600;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: bold;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  html {\n    font-family: 'Akzidenz', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n"])),Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt),Et=Object(l.css)(Tt||(Tt=Object(h.a)(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"])));var At=function(){return[Et,Pt]},zt={colors:{black:"#000000",white:"#ffffff",offwhite:"#fffed1",grays:{base:"#282c34"},reds:{base:"#4d0a05",light1:"#8a1a10",light2:"#b42619",light3:"#df3121"},blues:{light1:"#61dafb"},lg:n(2).a},typography:{fonts:{code:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"}}};b.a.createRoot(document.getElementById("root")).render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(d.a,{basename:"/amsterdam",children:Object(S.jsx)(T,{children:Object(S.jsx)(M,{children:Object(S.jsx)(j.c,{children:Object(S.jsxs)(o.f,{theme:zt,children:[Object(S.jsx)(l.Global,{styles:At}),Object(S.jsx)(_t,{})]})})})})})})),Bt()}},[[305,1,2]]]);
//# sourceMappingURL=main.c24f53ed.chunk.js.map