{"version":3,"sources":["realm/use_realm.tsx","realm/use_atlas.tsx","app/auth/login.tsx","app/auth/protected_route.tsx","app/headers/logo.tsx","app/headers/desktop.tsx","app/headers/mobile.tsx","pages/home/home.tsx","components/loading_spinner.tsx","components/plain_button.tsx","types/amsterdam.ts","types/player_match.ts","types/season.ts","pages/season/admin.tsx","pages/season/team/header.tsx","pages/season/player/team_results.tsx","pages/season/player/details.tsx","pages/season/player/matches.tsx","pages/season/player/splits.tsx","pages/season/player/dashboard.tsx","pages/season/team/match_view.tsx","pages/season/team/view.tsx","pages/season/team/dashboard.tsx","pages/season/dashboard.tsx","pages/season/router.tsx","pages/seasons/new_season.tsx","pages/seasons/dashboard.tsx","pages/seasons/router.tsx","app/app.tsx","reportWebVitals.ts","styles.ts","theme.ts","index.tsx"],"names":["RealmContext","createContext","RealmProvider","children","app","Realm","id","process","baseUrl","REACT_APP_REALM_BASE_URL","useState","currentUser","user","setUser","login","email","password","logIn","emailPassword","console","error","loginAnonymous","anonymous","logout","logOut","Provider","value","useRealm","realm","useContext","Error","AtlasContext","AtlasProvider","data","setData","useEffect","mongoClient","atlasData","useAtlas","atlas","players","db","collection","seasons","teams","teamMatches","playerMatches","StyledLogin","styled","div","LoginContainer","LoginAnonContainer","LoginPage","location","useLocation","username","setUsername","setPassword","from","state","pathname","to","replace","style","marginBottom","label","placeholder","onChange","e","target","type","marginTop","variant","onClick","ProtectedRoute","leafAnimation","keyframes","StyledLogo","MongoDBLogoMark","Logo","height","StyledHeader","NavLinks","ul","UserInfo","Header","navTo","useNavigate","margin","textDecoration","textAlign","cursor","providerType","profile","header","menuOpen","setMenuOpen","flex","align","justify","open","trigger","size","glyph","href","description","StyledMain","StyledOrderedList","ol","StyledUnorderedList","HomePage","rel","StyledLoading","Loading","_","color","StyledButton","Button","theme","colors","lg","blue","base","PlainButton","rest","dayOfWeek","v","charAt","toUpperCase","substring","monthNames","rankPlace","r","suffix","emptyPlayerHandicap","isSeasonTerm","NightContainer","NightControl","NightHeader","TeamInputs","SeasonAdmin","season","saveDivisions","saveTeams","Object","values","divisions","reduce","tot","divs","length","divisionsOpen","setDivisionsOpen","divisionsErrMsg","setDivisionsErrMsg","nights","acc","night","existingDivisions","setDivisions","teamsOepn","setTeamsOpen","teamsErrMsg","setTeamsErrMsg","teamsByDivision","setTeamsByDivision","entries","inner","division","existingTeams","filter","t","division_name","map","xref","name","title","isOpen","val","idx","i","primaryButton","text","errorMessage","divisionName","team","flatMap","divisionTeams","parseInt","ModalHeader","PageHeader","TeamHeader","modalView","teamRecord","tr","wins","losses","teamRecordDisplay","gridColumn","marginLeft","PlayerTeamResults","linkToPlayers","selfTeamXref","stats","useMemo","playerWeeks","totals","gamesWon","gamesLost","playerMatch","self","find","p","handicap","games_won","opp","week_num","doubles","gamePct","emptyStats","win","loss","n","sort","p1","p2","push","noLink","columns","pr","datum","toFixed","StyledPlayerDetails","PlayerDetails","handicaps","record","streakDisplay","streak","lastWeek","Math","abs","StyledRow","Row","shouldForwardProp","prop","noBorder","borderTop","gray","light1","backgroundColor","green","light2","red","PlayerDashboard","matches","styledMatches","setStyledMatches","weekSet","match","pm","date","getMonth","getDate","forfeit","match_id","StyledPlayerSplits","Controls","Control","Label","PlayerSplits","handicapSet","set","selectedHandicap","setSelectedHandicap","showExpandedView","setShowExpandedView","excludeForfeits","setExcludeForfeits","splits","setSplits","matchups","race","races","diffWins","diffLosses","weeks","unshift","rounds","matchup","total","long","short","R1","R2","TB","split","m1","m2","detailedMatchupDisplay","key","w1","w2","up","even","down","basicMatchupDisplay","roundDisplay","width","htmlFor","checked","join","prefix","Dashboard","StyledCombobox","Combobox","playerMatchesByXref","playersByTeamXref","teamsByXref","selectedPlayer","setSelectedPlayer","setPlayerMatches","playerTeam","setPlayerTeam","playerRecord","setPlayerRecord","playerHandicaps","setPlayerHandicaps","reversed","getTime","seq","result","teamXref","player","displayName","MatchView","_id","Matches","TeamView","playerMatchesByTeamXref","teamMatchesById","teamRecordsByXref","playerMatchesById","setPlayerMatchesById","forEach","matchId","schedule","display","teamMatchup","selectedTeamXref","teamMatch","matches_won","newTeamMatchup","matchDescription","TeamDashboard","useParams","setTeam","setTeamRecord","Leagues","Divisions","Division","teamXrefsByDivision","setTeamXrefsByDivision","teamRecords","rank","pct","tr1","tr2","modalTeam","setModalTeam","isMobile","useMediaQuery","query","ts","setOpen","TeamRouter","loadPlayerMatches","loadTeams","loadTeamMatches","year","term","s","setTeams","setTeamsByXref","then","setTeamMatchesById","setTeamRecordsByXref","outer","gamesTotal","matchStats","teamStats","emptyMatchStats","setPlayerMatchesByXref","setPlayerMatchesByTeamXref","setPlayersByTeamXref","pm1","pm2","playersMap","path","element","NewSeason","saveSeason","yearInput","setYearInput","termInput","setTermInput","typeInput","setTypeInput","xrefInput","setXrefInput","setName","monday","setMonday","tuesday","setTuesday","wednesday","setWednesday","thursday","setThursday","friday","setFriday","saturday","setSaturday","sunday","setSunday","numWeeksInput","setNumWeeksInput","errMsg","setErrMsg","stopPropagation","numWeeks","num_weeks","StyledPage","CardList","CardTitle","SeasonsDashboard","modalOpen","setModalOpen","minWidth","log","SeasonsRouter","setSeasons","insertOne","insertedId","seasonXref","season_xref","updateOne","$set","modifiedCount","insertMany","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","fontsURL","docStyles","css","meyersWebReset","styles","black","white","offwhite","grays","reds","light3","blues","palette","typography","fonts","code","ReactDOM","createRoot","document","getElementById","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.8ac74bc7.chunk.js","sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport * as Realm from 'realm-web';\n\ninterface RealmProps {\n  login: (email: string, password: string) => Promise<Realm.User | null>;\n  loginAnonymous: () => Promise<Realm.User | null>;\n  logout: () => Promise<void>;\n  user: Realm.User | null;\n}\n\nconst RealmContext = createContext<RealmProps | null>(null);\n\ninterface RealmProviderProps {\n  children: React.ReactNode;\n}\n\nexport const RealmProvider = ({ children }: RealmProviderProps) => {\n  if (!process.env.REACT_APP_REALM_APP_ID!) {\n    throw new Error('no Realm app configured for this environment');\n  }\n  const app = new Realm.App({\n    id: process.env.REACT_APP_REALM_APP_ID,\n    baseUrl: process.env.REACT_APP_REALM_BASE_URL,\n  });\n\n  const [user, setUser] = useState<Realm.User | null>(app.currentUser);\n\n  const login = async (email: string, password: string) => {\n    try {\n      await app.logIn(Realm.Credentials.emailPassword(email, password));\n\n      setUser(app.currentUser);\n      return app.currentUser;\n    } catch (e) {\n      console.error('failed to login', e);\n      setUser(null);\n      return null;\n    }\n  };\n\n  const loginAnonymous = async () => {\n    try {\n      await app.logIn(Realm.Credentials.anonymous());\n\n      setUser(app.currentUser);\n      return app.currentUser;\n    } catch (e) {\n      console.error('failed to login', e);\n      setUser(null);\n      return null;\n    }\n  };\n\n  const logout = async () => {\n    try {\n      if (app.currentUser) {\n        await app.currentUser.logOut();\n      }\n    } catch (e) {\n      console.error('failed to logout', e);\n    } finally {\n      setUser(null);\n    }\n  };\n\n  return <RealmContext.Provider value={{ login, loginAnonymous, logout, user }}>{children}</RealmContext.Provider>;\n};\n\nexport const useRealm = () => {\n  const realm = useContext(RealmContext);\n  if (realm === null) {\n    throw new Error('useRealm() called outside of a RealmProvider');\n  }\n  return realm;\n};\n","import React, { createContext, useContext, useEffect, useState } from 'react';\n\nimport { Player, PlayerMatch, Season, Team, TeamMatch } from '../types';\n\nimport { useRealm } from './use_realm';\n\ninterface AtlasProps {\n  data: ReturnType<typeof atlasData> | null;\n}\n\nconst AtlasContext = createContext<AtlasProps | null>(null);\n\ninterface AtlasProviderProps {\n  children: React.ReactNode;\n}\n\nexport const AtlasProvider = ({ children }: AtlasProviderProps) => {\n  const { user } = useRealm();\n\n  const [data, setData] = useState<ReturnType<Realm.User['mongoClient']> | null>(null);\n\n  useEffect(() => {\n    if (user === null) {\n      return;\n    }\n    setData(user.mongoClient('data'));\n  }, [user]);\n\n  return <AtlasContext.Provider value={{ data: atlasData(data) }}>{children}</AtlasContext.Provider>;\n};\n\nexport const useAtlas = () => {\n  const atlas = useContext(AtlasContext);\n  if (atlas === null) {\n    throw new Error('useAtlas() called outside of a AtlasProvider');\n  }\n  return atlas;\n};\n\nfunction atlasData(data: ReturnType<Realm.User['mongoClient']> | null) {\n  if (!data) {\n    return null;\n  }\n  return {\n    players: () => data.db('amsterdam').collection<Player>('players'),\n    seasons: () => data.db('amsterdam').collection<Season>('seasons'),\n    teams: () => data.db('amsterdam').collection<Team>('teams'),\n    teamMatches: () => data.db('amsterdam').collection<TeamMatch>('team_matches'),\n    playerMatches: () => data.db('amsterdam').collection<PlayerMatch>('player_matches'),\n  };\n}\n","import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\nimport TextInput from '@leafygreen-ui/text-input';\nimport { Body } from '@leafygreen-ui/typography';\nimport { Navigate } from 'react-router-dom';\n\nimport { useRealm } from '../../realm';\n\nconst StyledLogin = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst LoginContainer = styled.div`\n  min-width: 360px;\n  padding: 1rem;\n  border: 1px solid;\n`;\n\nconst LoginAnonContainer = styled.div`\n  min-width: 360px;\n  padding: 0 1rem 1rem 1rem;\n  margin-top: 0.5rem;\n`;\n\nfunction LoginPage() {\n  const location = useLocation();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const { login, loginAnonymous, user } = useRealm();\n\n  let from = (location as any).state?.from?.pathname || '/';\n\n  if (user) {\n    return <Navigate to={from} replace />;\n  }\n\n  return (\n    <StyledLogin>\n      <LoginContainer>\n        <Body style={{ marginBottom: '1rem' }}>Please log in using your credentials</Body>\n        <TextInput\n          label=\"Username\"\n          placeholder=\"your.email@example.com\"\n          onChange={e => {\n            setUsername(e.target.value);\n          }}\n          value={username}\n        />\n        <TextInput\n          label=\"Password\"\n          type=\"password\"\n          onChange={e => {\n            setPassword(e.target.value);\n          }}\n          value={password}\n        />\n        <Button style={{ marginTop: '1rem' }} variant=\"primary\" onClick={() => login(username, password)}>\n          Login\n        </Button>\n      </LoginContainer>\n      <LoginAnonContainer>\n        <Body style={{ marginBottom: '0.5rem' }}>Or log in as a guest</Body>\n        <Button variant=\"primaryOutline\" onClick={() => loginAnonymous()}>\n          Login Anonymously\n        </Button>\n      </LoginAnonContainer>\n    </StyledLogin>\n  );\n}\n\nexport default LoginPage;\n","import React from 'react';\nimport { useLocation, Navigate } from 'react-router-dom';\n\nimport { useRealm } from '../../realm';\n\ninterface Props {\n  children: JSX.Element;\n}\n\nfunction ProtectedRoute({ children }: Props) {\n  let { user } = useRealm();\n  let location = useLocation();\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  return children;\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { keyframes } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport { MongoDBLogoMark } from '@leafygreen-ui/logo';\n\nconst leafAnimation = keyframes`\n  from {\n    transform: rotate(-5deg);\n  }\n  to {\n    transform: rotate(5deg);\n  }\n`;\n\nconst StyledLogo = styled(MongoDBLogoMark)`\n  display: inline-block;\n  margin: 24px;\n  animation: ${leafAnimation} 3s infinite alternate-reverse ease-in-out;\n  transform-origin: 50% 100%;\n`;\n\nfunction Logo() {\n  return <StyledLogo style={{ marginTop: 0, marginBottom: 0 }} height={48} />;\n}\n\nexport default Logo;\n","import React from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\nimport { Body, H1 } from '@leafygreen-ui/typography';\n\nimport { useRealm } from '../../realm';\n\nimport Logo from './logo';\n\nconst StyledHeader = styled.div`\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-column-gap: 5px;\n  justify-items: center;\n  margin-top: 0.5rem;\n`;\n\nconst NavLinks = styled.ul`\n  margin-right: auto;\n  text-align: left;\n  display: flex;\n`;\n\nconst UserInfo = styled.div`\n  margin-left: auto;\n  text-align: right;\n  padding-right: 0.5rem;\n`;\n\nfunction Header() {\n  const navTo = useNavigate();\n  const { logout, user } = useRealm();\n\n  return (\n    <StyledHeader>\n      <NavLinks>\n        <Link style={{ margin: '1rem', textDecoration: 'none' }} to=\"/seasons\">\n          Seasons\n        </Link>\n      </NavLinks>\n      <span style={{ textAlign: 'center', cursor: 'pointer' }} onClick={() => navTo('/')}>\n        <H1>Amsterdam Billiards</H1>\n        <Logo />\n      </span>\n      {user && (\n        <UserInfo>\n          <Button variant=\"primaryOutline\" onClick={logout}>\n            Logout\n          </Button>\n          <Body>{user.providerType === 'anon-user' ? 'Guest' : user.profile.email || user.id}</Body>\n        </UserInfo>\n      )}\n    </StyledHeader>\n  );\n}\n\nexport default Header;\n","import React, { useState } from 'react';\nimport styled from '@emotion/styled';\nimport Icon from '@leafygreen-ui/icon';\nimport IconButton from '@leafygreen-ui/icon-button';\nimport { Menu, MenuSeparator, MenuItem } from '@leafygreen-ui/menu';\nimport { H1 } from '@leafygreen-ui/typography';\n\nimport { useRealm } from '../../realm';\n\nimport Logo from './logo';\n\nconst StyledHeader = styled.header`\n  margin-top: 0.5rem;\n  display: flex;\n  justify-items: space-between;\n  align-items: center;\n`;\n\nfunction Header() {\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { logout, user } = useRealm();\n\n  return (\n    <StyledHeader>\n      <Logo />\n      <H1 style={{ flex: 1 }}>Amsterdam Billiards</H1>\n      <Menu\n        align=\"bottom\"\n        justify=\"end\"\n        open={menuOpen}\n        trigger={\n          <IconButton size=\"xlarge\" aria-label=\"User Menu\" onClick={() => setMenuOpen(!menuOpen)}>\n            <Icon glyph=\"Ellipsis\" />\n          </IconButton>\n        }\n      >\n        <MenuItem href=\"/amsterdam\">Standings</MenuItem>\n        <MenuItem href=\"/amsterdam/team\">Team Results</MenuItem>\n        <MenuItem href=\"/amsterdam/players\">Individual Results</MenuItem>\n        <MenuSeparator />\n        {!user && <MenuItem href=\"/amsterdam/login\">Login</MenuItem>}\n        {user && (\n          <MenuItem\n            onClick={logout}\n            description={user.providerType === 'anon-user' ? 'As guest' : user.profile.email || user.id}\n          >\n            Logout\n          </MenuItem>\n        )}\n      </Menu>\n    </StyledHeader>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\nimport Card from '@leafygreen-ui/card';\nimport { Body, H2, H3 } from '@leafygreen-ui/typography';\n\nconst StyledMain = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  justify-content: center;\n`;\n\nconst StyledOrderedList = styled.ol`\n  list-style: auto;\n`;\n\nconst StyledUnorderedList = styled.ol`\n  list-style: disc;\n  margin-left: 1rem;\n`;\n\nfunction HomePage() {\n  return (\n    <StyledMain>\n      <H2>Welcome to Amsterdam Billiards Information</H2>\n      <Card>\n        <Button href=\"http://amsterdambilliards.com/\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Official Amsterdam Billiards & Bar website\n        </Button>\n        <Button href=\"/amsterdam/seasons/2022/fall/team_8ball\">Team 8-Ball League Site</Button>\n      </Card>\n      <H3>Why You Should Join an Amsterdam Billiards League:</H3>\n      <StyledOrderedList>\n        <li>\n          <Body>The leagues are for players of all levels, including beginners and Pros</Body>\n        </li>\n        <li>\n          <Body>You'll have fun</Body>\n        </li>\n        <li>\n          <Body>You'll improve your pool game</Body>\n        </li>\n        <li>\n          <Body>It's a great way to meet other pool players</Body>\n        </li>\n        <li>\n          <Body>The leagues are co-ed</Body>\n        </li>\n        <li>\n          <Body>They're inexpensive</Body>\n        </li>\n        <li>\n          <Body>The prizes are great</Body>\n        </li>\n        <li>\n          <Body>\n            They're easy to join (just sign up in the club at the front desk or by clicking 'Register Now!' on this\n            page)\n          </Body>\n        </li>\n        <li>\n          <Body>You get a lot of free stuff:</Body>\n          <StyledUnorderedList>\n            <li>\n              <Body>Play pool for free for a week</Body>\n            </li>\n            <li>\n              <Body>3 hours of free play every week while the league lasts</Body>\n            </li>\n            <li>\n              <Body>Get a dollar off all drinks while you're playing in the leagues</Body>\n            </li>\n            <li>\n              <Body>Mid-Season league party</Body>\n            </li>\n            <li>\n              <Body>League Finals & Registration signup party</Body>\n            </li>\n          </StyledUnorderedList>\n        </li>\n      </StyledOrderedList>\n      <Button href=\"https://amsterdambilliards.com/leagues/\" target=\"_blank\" rel=\"noopener noreferrer\">\n        Register Now!\n      </Button>\n    </StyledMain>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport Spinner from 'react-spinners/PulseLoader';\nimport styled from '@emotion/styled';\nimport Banner from '@leafygreen-ui/banner';\n\nconst StyledLoading = styled.div`\n  margin: 0 auto;\n  max-width: 62%;\n  @media (max-width: 720px) {\n    max-width: 100%;\n  }\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\ninterface Props {\n}\n\nfunction Loading(_: Props) {\n  return (\n    <StyledLoading>\n      <Banner variant=\"info\" style={{ margin: '1rem 0' }}>\n        Please wait while we load the season data.\n      </Banner>\n      <Spinner color=\"gray\" />\n    </StyledLoading>\n  );\n}\n\nexport default Loading;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\n\nconst StyledButton = styled(Button)`\n  border: 0;\n  background: none;\n  color: ${({ theme }) => theme.colors.lg.blue.base};\n  &:hover {\n    background: none;\n    box-shadow: none;\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  children?: React.ReactNode;\n  onClick: () => void;\n}\n\nfunction PlainButton({ children, ...rest }: Props) {\n  return <StyledButton {...rest}>{children}</StyledButton>;\n}\n\nexport default PlainButton;\n","export interface AmsterdamKey {\n  xref: number;\n  name: string;\n}\n\nexport type DayOfWeek = 'monday' | 'tuesday' | 'wednesday' | 'thursday' | 'friday' | 'saturday' | 'sunday';\n\nexport const isDayOfWeek = (v: string): v is DayOfWeek => {\n  switch (v) {\n    case 'monday':\n    case 'tuesday':\n    case 'wednesday':\n    case 'thursday':\n    case 'friday':\n    case 'saturday':\n    case 'sunday':\n      return true;\n  }\n  return false;\n};\n\nexport const dayOfWeek = (v: DayOfWeek): string => {\n  return v.charAt(0).toUpperCase() + v.substring(1);\n};\n\nconst monthNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nexport const monthName = (v: number): string => monthNames[v];\n\nexport const rankPlace = (r: number): string => {\n  let suffix = 'th';\n  if (r === 1) {\n    suffix = 'st';\n  } else if (r === 2) {\n    suffix = 'nd';\n  } else if (r === 3) {\n    suffix = 'rd';\n  }\n  return r + suffix;\n};\n","import { AmsterdamKey } from './amsterdam';\nimport { TeamPlayer } from './player';\n\nexport type PlayerMatchType = 'R1' | 'R2' | 'TB';\n\nexport interface PlayerMatch {\n  _id: string;\n  match_id: string;\n  season_xref: number;\n  week_num: number;\n  date: Date;\n  type: PlayerMatchType;\n  seq: number;\n  players: PlayerResult[];\n  forfeit?: boolean;\n}\n\nexport interface PlayerMatches extends TeamPlayer {\n  matches: PlayerMatch[];\n}\n\nexport interface PlayerResult extends AmsterdamKey {\n  team: AmsterdamKey;\n  handicap: number;\n  games_won: number;\n  win?: boolean;\n  loss?: boolean;\n}\n\nexport const emptyPlayerResult = (): PlayerResult => ({\n  xref: 0,\n  name: '',\n  team: { xref: 0, name: '' },\n  handicap: 0,\n  games_won: 0,\n});\n\nexport interface PlayerMatchup {\n  self: PlayerResult;\n  opp: PlayerResult;\n}\n\nexport interface PlayerHandicap {\n  value: number;\n  lastWeek?: number;\n}\n\nexport const emptyPlayerHandicap = (value = 0): PlayerHandicap => ({ value });\n\nexport interface PlayerRecord {\n  wins: number;\n  losses: number;\n  streak: number;\n}\n\nexport const emptyPlayerRecord = (): PlayerRecord => ({ wins: 0, losses: 0, streak: 0 });\n","import { DayOfWeek } from './amsterdam';\n\nexport type SeasonTerm = 'winter' | 'spring' | 'summer' | 'fall';\n\nexport const isSeasonTerm = (v: string): v is SeasonTerm => {\n  switch (v) {\n    case 'winter':\n    case 'spring':\n    case 'summer':\n    case 'fall':\n      return true;\n  }\n  return false;\n};\n\nexport type LeagueType = 'team_8ball';\n\nexport const isLeagueType = (v: string): v is LeagueType => {\n  switch (v) {\n    case 'team_8ball':\n      return true;\n  }\n  return false;\n};\n\nexport interface Season {\n  _id: string;\n  year: number;\n  term: SeasonTerm;\n  type: LeagueType;\n  xref: number;\n  name: string;\n  num_weeks: number;\n  nights: DayOfWeek[];\n  divisions: Partial<Record<DayOfWeek, string[]>>;\n}\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\nimport ExpandableCard from '@leafygreen-ui/expandable-card';\nimport FormFooter from '@leafygreen-ui/form-footer';\nimport TextInput from '@leafygreen-ui/text-input';\nimport { Subtitle } from '@leafygreen-ui/typography';\n\nimport { dayOfWeek, DayOfWeek, Team, Season } from '../../types';\n\nconst NightContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst NightControl = styled.div`\n  display: flex;\n  flex-direction: column;\n  :not(:first-of-type) {\n    margin-left: 2rem;\n  }\n`;\n\nconst NightHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n`;\n\nconst TeamInputs = styled.div`\n  display: flex;\n`;\n\ninterface Props {\n  season: Season;\n  teams: Team[];\n  saveDivisions: (divisions: Season['divisions']) => Promise<void>;\n  saveTeams: (teams: Omit<Team, '_id' | 'season_xref' | 'schedule'>[]) => Promise<void>;\n}\n\nfunction SeasonAdmin({ season, teams, saveDivisions, saveTeams }: Props) {\n  const navTo = useNavigate();\n\n  const [divisionsOpen, setDivisionsOpen] = useState(\n    !Object.values(season.divisions).reduce((tot, divs) => (tot += divs.length), 0),\n  );\n  const [divisionsErrMsg, setDivisionsErrMsg] = useState('');\n  const [divisions, setDivisions] = useState<Partial<Record<DayOfWeek, string[]>>>(\n    season.nights.reduce((acc, night) => {\n      const existingDivisions = season.divisions[night] || [];\n      return {\n        ...acc,\n        [night]: existingDivisions.length > 0 ? existingDivisions : [''],\n      };\n    }, {}),\n  );\n\n  const [teamsOepn, setTeamsOpen] = useState(\n    !!Object.values(season.divisions).reduce((tot, divs) => (tot += divs.length), 0),\n  );\n  const [teamsErrMsg, setTeamsErrMsg] = useState('');\n  const [teamsByDivision, setTeamsByDivision] = useState<\n    Partial<Record<DayOfWeek, Record<string, { xref: string; name: string }[]>>>\n  >({});\n  useEffect(() => {\n    setTeamsByDivision(\n      Object.entries(divisions).reduce(\n        (acc, [night, divisions]) => ({\n          ...acc,\n          [night]: divisions.reduce((inner, division) => {\n            const existingTeams = teams\n              .filter(t => t.division_name === division)\n              .map(t => ({ xref: t.xref + '', name: t.name }));\n            return {\n              ...inner,\n              [division]: existingTeams.length > 0 ? existingTeams : [{ xref: '', name: '' }],\n            };\n          }, {}),\n        }),\n        {},\n      ),\n    );\n  }, [season, teams, divisions]);\n\n  return (\n    <>\n      <Button variant=\"primaryOutline\" onClick={() => navTo('..')}>\n        Back to Dashboard\n      </Button>\n      <ExpandableCard\n        title=\"Admin: Divisions\"\n        description=\"Make sure the league divisions are correct\"\n        isOpen={divisionsOpen}\n        onClick={() => setDivisionsOpen(!divisionsOpen)}\n      >\n        <NightContainer>\n          {season.nights.map(night => (\n            <NightControl key={night}>\n              <NightHeader>\n                <Subtitle>{dayOfWeek(night)}</Subtitle>\n                <Button\n                  size=\"xsmall\"\n                  onClick={() => setDivisions({ ...divisions, [night]: [...(divisions[night] || []), ''] })}\n                >\n                  +\n                </Button>\n              </NightHeader>\n              {(divisions[night] || []).map((val, idx) => (\n                <TextInput\n                  style={{ marginBottom: '0.5rem' }}\n                  key={val + idx}\n                  label={`Division #${idx}`}\n                  value={val}\n                  onChange={e =>\n                    setDivisions({\n                      ...divisions,\n                      [night]: (divisions[night] || []).map((v, i) => {\n                        if (i === idx) {\n                          return e.target.value;\n                        }\n                        return v;\n                      }),\n                    })\n                  }\n                />\n              ))}\n            </NightControl>\n          ))}\n        </NightContainer>\n        <FormFooter\n          primaryButton={{\n            text: 'Save',\n            onClick: async e => {\n              try {\n                saveDivisions(divisions);\n                setDivisionsOpen(false);\n                setTeamsOpen(true);\n                setDivisionsErrMsg('');\n              } catch ({ error }) {\n                setDivisionsErrMsg(`failed to save divisions: ${error}`);\n              }\n            },\n          }}\n          errorMessage={divisionsErrMsg}\n        />\n      </ExpandableCard>\n      <ExpandableCard\n        title=\"Admin: Teams\"\n        description=\"Make sure the league teams are correct\"\n        isOpen={teamsOepn}\n        onClick={() => setTeamsOpen(!teamsOepn)}\n      >\n        {Object.entries(teamsByDivision).map(([night, divisions]) => (\n          <NightContainer key={night}>\n            {Object.entries(divisions).map(([divisionName, teams]) => (\n              <NightControl key={divisionName}>\n                <NightHeader>\n                  <Subtitle>{divisionName}</Subtitle>\n                  <Button\n                    size=\"xsmall\"\n                    onClick={() =>\n                      setTeamsByDivision({\n                        ...teamsByDivision,\n                        [night]: {\n                          ...(teamsByDivision[night as DayOfWeek] || {}),\n                          [divisionName]: [\n                            ...((teamsByDivision[night as DayOfWeek] || {})[divisionName] || []),\n                            { xref: '', name: '' },\n                          ],\n                        },\n                      })\n                    }\n                  >\n                    +\n                  </Button>\n                </NightHeader>\n                {teams.map((team, idx) => (\n                  <TeamInputs key={idx}>\n                    <TextInput\n                      label={`Team #${idx} Key`}\n                      value={team.xref}\n                      onChange={e =>\n                        setTeamsByDivision({\n                          ...teamsByDivision,\n                          [night]: {\n                            ...(teamsByDivision[night as DayOfWeek] || {}),\n                            [divisionName]: ((teamsByDivision[night as DayOfWeek] || {})[divisionName] || []).map(\n                              (v, i) => {\n                                if (i === idx) {\n                                  return { ...v, xref: e.target.value };\n                                }\n                                return v;\n                              },\n                            ),\n                          },\n                        })\n                      }\n                    />\n                    <TextInput\n                      label={`Team #${idx} Name`}\n                      value={team.name}\n                      onChange={e =>\n                        setTeamsByDivision({\n                          ...teamsByDivision,\n                          [night]: {\n                            ...(teamsByDivision[night as DayOfWeek] || {}),\n                            [divisionName]: ((teamsByDivision[night as DayOfWeek] || {})[divisionName] || []).map(\n                              (v, i) => {\n                                if (i === idx) {\n                                  return { ...v, name: e.target.value };\n                                }\n                                return v;\n                              },\n                            ),\n                          },\n                        })\n                      }\n                    />\n                  </TeamInputs>\n                ))}\n              </NightControl>\n            ))}\n          </NightContainer>\n        ))}\n        <FormFooter\n          primaryButton={{\n            text: 'Save',\n            onClick: async e => {\n              try {\n                await saveTeams(\n                  Object.entries(teamsByDivision)\n                    .flatMap(([night, divisionTeams]) =>\n                      Object.entries(divisionTeams).flatMap(([divisionName, teams]) => {\n                        return teams.map(team => ({\n                          xref: parseInt(team.xref, 10),\n                          name: team.name,\n                          night: night as DayOfWeek,\n                          division_name: divisionName,\n                        }));\n                      }),\n                    )\n                    .filter(team => !!team.xref),\n                );\n                setTeamsOpen(false);\n                setTeamsErrMsg('');\n              } catch ({ error }) {\n                setTeamsErrMsg(`failed to save teams: ${error}`);\n              }\n            },\n          }}\n          errorMessage={teamsErrMsg}\n        />\n      </ExpandableCard>\n    </>\n  );\n}\n\nexport default SeasonAdmin;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { H2 } from '@leafygreen-ui/typography';\n\nimport { Team, TeamRecord } from '../../../types';\n\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst PageHeader = styled.div`\n  align-self: stretch;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-column-gap: 5px;\n`;\n\ninterface Props {\n  modalView?: boolean;\n  team?: Team;\n  teamRecord?: TeamRecord;\n}\n\nfunction teamRecordDisplay(tr = { wins: 0, losses: 0 }) {\n  return `${tr.wins}-${tr.losses}`;\n}\n\nfunction TeamHeader({ modalView, team, teamRecord }: Props) {\n  if (!team) {\n    return null;\n  }\n\n  const title = `${team.name} (${teamRecordDisplay(teamRecord)})`;\n\n  if (modalView) {\n    return (\n      <ModalHeader>\n        <H2>{title}</H2>\n        <Link to={team.xref + ''}>Detailed View</Link>\n      </ModalHeader>\n    );\n  }\n\n  return (\n    <PageHeader>\n      <H2 style={{ gridColumn: 2 }}>{title}</H2>\n      <Link to={'..'} style={{ marginLeft: 'auto', textAlign: 'right' }}>\n        Back to Standings\n      </Link>\n    </PageHeader>\n  );\n}\n\nexport default TeamHeader;\n","import React, { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Table, TableHeader, Row, Cell } from '@leafygreen-ui/table';\n\nimport { PlainButton } from '../../../components';\nimport { emptyPlayerResult, PlayerMatch, PlayerResult } from '../../../types';\n\ninterface Props {\n  linkToPlayers?: string;\n  playerMatches: PlayerMatch[];\n  selfTeamXref: number;\n}\n\ninterface Stats extends Pick<PlayerResult, 'xref' | 'name' | 'handicap'> {\n  doubles: number;\n  wins: number;\n  losses: number;\n  gamesWon: number;\n  gamesLost: number;\n  gamePct: number;\n}\n\nconst emptyStats = (xref = 0, name = ''): Stats => ({\n  xref,\n  name,\n  handicap: 0,\n  doubles: 0,\n  wins: 0,\n  losses: 0,\n  gamesWon: 0,\n  gamesLost: 0,\n  gamePct: 0,\n});\n\nfunction PlayerTeamResults({ linkToPlayers = 'players', playerMatches, selfTeamXref }: Props) {\n  const navTo = useNavigate();\n  const stats: (Stats & { noLink?: boolean })[] = useMemo(() => {\n    const playerWeeks: Record<string, Record<number, number>> = {};\n    const totals = {\n      wins: 0,\n      losses: 0,\n      gamesWon: 0,\n      gamesLost: 0,\n    };\n    const stats = Object.entries(\n      playerMatches.reduce<Record<number, Stats & { noLink?: boolean }>>((acc, playerMatch) => {\n        const self = playerMatch.players.find(p => p.team.xref === selfTeamXref) || emptyPlayerResult();\n        const opp = playerMatch.players.find(p => p.team.xref !== selfTeamXref) || emptyPlayerResult();\n\n        if (playerMatch.type !== 'TB') {\n          if (!playerWeeks[self.xref]) {\n            playerWeeks[self.xref] = {};\n          }\n          if (!playerWeeks[self.xref][playerMatch.week_num]) {\n            playerWeeks[self.xref][playerMatch.week_num] = 0;\n          }\n          playerWeeks[self.xref][playerMatch.week_num]++;\n        }\n\n        const stats = acc[self.xref] || emptyStats(self.xref, self.name);\n        stats.handicap = self.handicap;\n        stats.wins += self.win ? 1 : 0;\n        stats.losses += self.loss ? 1 : 0;\n        stats.gamesWon += self.games_won;\n        stats.gamesLost += opp.games_won;\n        totals.wins += self.win ? 1 : 0;\n        totals.losses += self.loss ? 1 : 0;\n        totals.gamesWon += self.games_won;\n        totals.gamesLost += opp.games_won;\n        return { ...acc, [self.xref]: stats };\n      }, {}),\n    ).map(([xref, stats]) => ({\n      ...stats,\n      gamePct: stats.gamesWon / (stats.gamesWon + stats.gamesLost),\n      doubles: Object.values(playerWeeks[xref] || {}).filter(n => n > 1).length,\n    }));\n    stats.sort((p1, p2) => p2.gamePct - p1.gamePct);\n    stats.push({\n      noLink: true,\n      xref: 0,\n      name: 'Totals',\n      handicap: ('' as unknown) as number,\n      doubles: ('' as unknown) as number,\n      gamePct: totals.gamesWon / (totals.gamesWon + totals.gamesLost),\n      ...totals,\n    });\n    return stats;\n  }, [playerMatches, selfTeamXref]);\n\n  return (\n    <Table\n      data={stats}\n      columns={[\n        <TableHeader label=\"Name\" />,\n        <TableHeader label=\"HCP\" />,\n        <TableHeader label=\"DB's\" />,\n        <TableHeader label=\"W\" />,\n        <TableHeader label=\"L\" />,\n        <TableHeader label=\"GF\" />,\n        <TableHeader label=\"GA\" />,\n        <TableHeader label=\"PCT\" />,\n      ]}\n    >\n      {({ datum: pr }) => (\n        <Row key={pr.xref}>\n          <Cell>\n            {pr.noLink ? (\n              pr.name\n            ) : (\n              <PlainButton onClick={() => navTo(linkToPlayers, { state: { xref: pr.xref + '' } })}>\n                {pr.name}\n              </PlainButton>\n            )}\n          </Cell>\n          <Cell>{pr.handicap}</Cell>\n          <Cell>{pr.doubles}</Cell>\n          <Cell>{pr.wins}</Cell>\n          <Cell>{pr.losses}</Cell>\n          <Cell>{pr.gamesWon}</Cell>\n          <Cell>{pr.gamesLost}</Cell>\n          <Cell>{pr.gamePct.toFixed(3)}</Cell>\n        </Row>\n      )}\n    </Table>\n  );\n}\n\nexport default PlayerTeamResults;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { Body, Overline } from '@leafygreen-ui/typography';\n\nimport { AmsterdamKey, PlayerHandicap, PlayerRecord } from '../../../types';\n\nconst StyledPlayerDetails = styled.div`\n  margin-bottom: 1rem;\n  display: grid;\n  grid-template-columns: 90px 270px;\n`;\n\ninterface Props {\n  handicaps: PlayerHandicap[];\n  record: PlayerRecord;\n  team: AmsterdamKey;\n}\n\nfunction PlayerDetails({ handicaps, record, team }: Props) {\n  return (\n    <StyledPlayerDetails>\n      <Overline>Record:</Overline>\n      <Body>{`${record.wins}-${record.losses}, ${streakDisplay(record.streak)}`}</Body>\n      <Overline>Plays for:</Overline>\n      <Body>{team.name}</Body>\n      <Overline>Handicap:</Overline>\n      <div>\n        {handicaps.map(({ value, lastWeek }) => (\n          <Body key={!lastWeek ? 'current' : lastWeek}>{`${value}${\n            !lastWeek ? '' : ` (until: Week ${lastWeek})`\n          }`}</Body>\n        ))}\n      </div>\n    </StyledPlayerDetails>\n  );\n}\n\nexport default PlayerDetails;\n\nfunction streakDisplay(streak: number) {\n  const prefix = streak > 0 ? 'W' : 'L';\n  return prefix + Math.abs(streak);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { Table, TableHeader, Row, Cell } from '@leafygreen-ui/table';\n\nimport { PlainButton } from '../../../components';\nimport { emptyPlayerResult, monthName, rankPlace, PlayerMatch } from '../../../types';\n\nconst StyledRow = styled(Row, {\n  shouldForwardProp: prop => prop !== 'win' && prop !== 'loss' && prop !== 'noBorder',\n})<{ win?: boolean; loss?: boolean; noBorder: boolean }>`\n  ${({ theme, noBorder }) =>\n    !noBorder && {\n      borderTop: `1px solid ${theme.colors.lg.gray.light1}`,\n    }}\n  ${({ theme, win, loss }) =>\n    win\n      ? {\n          backgroundColor: theme.colors.lg.green.light2 + ' !important',\n        }\n      : loss\n      ? {\n          backgroundColor: theme.colors.lg.red.light2 + ' !important',\n        }\n      : {}}\n`;\n\ninterface Props {\n  matches: PlayerMatch[];\n  xref: string;\n}\n\nfunction PlayerDashboard({ matches, xref }: Props) {\n  const navTo = useNavigate();\n  const [styledMatches, setStyledMatches] = useState<(PlayerMatch & { noBorder: boolean })[]>([]);\n  useEffect(() => {\n    const weekSet: Record<number, true> = {};\n    setStyledMatches(\n      matches.map(match => {\n        let noBorder = false;\n        if (weekSet[match.week_num]) {\n          noBorder = true;\n        } else {\n          weekSet[match.week_num] = true;\n        }\n\n        return { ...match, noBorder };\n      }),\n    );\n  }, [matches]);\n  return (\n    <Table\n      data={styledMatches}\n      columns={[\n        <TableHeader label=\"Week\" />,\n        <TableHeader label=\"Date\" />,\n        <TableHeader label=\"Matchup\" />,\n        <TableHeader label=\"Opp Player\" />,\n        <TableHeader label=\"Opp Team\" />,\n        <TableHeader label=\"Round\" />,\n        <TableHeader label=\"Games Won\" />,\n        <TableHeader label=\"Games Lost\" />,\n        <TableHeader label=\"Notes\" />,\n      ]}\n    >\n      {({ datum: pm }) => {\n        const self = pm.players.find(p => p.xref + '' === xref) || emptyPlayerResult();\n        const opp = pm.players.find(p => p.xref + '' !== xref) || emptyPlayerResult();\n\n        return (\n          <StyledRow key={pm.match_id+pm.type} win={self.win} loss={self.loss} noBorder={pm.noBorder}>\n            <Cell>{pm.week_num}</Cell>\n            <Cell>{`${monthName(pm.date.getMonth())} ${rankPlace(pm.date.getDate())}`}</Cell>\n            <Cell>{`${self.handicap} vs ${opp.handicap}`}</Cell>\n            <Cell>\n              <PlainButton onClick={() => navTo('.', { state: { xref: opp.xref + '' } })}>{opp.name}</PlainButton>\n            </Cell>\n            <Cell>\n              <PlainButton onClick={() => navTo(`../${opp.team.xref}`)}>{opp.team.name}</PlainButton>\n            </Cell>\n            <Cell>{pm.type}</Cell>\n            <Cell>{self.games_won}</Cell>\n            <Cell>{opp.games_won}</Cell>\n            <Cell>{pm.forfeit ? 'Forfeit' : ''}</Cell>\n          </StyledRow>\n        );\n      }}\n    </Table>\n  );\n}\n\nexport default PlayerDashboard;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport styled from '@emotion/styled';\nimport { Option, Select } from '@leafygreen-ui/select';\nimport { Table, TableHeader, Row, Cell } from '@leafygreen-ui/table';\nimport Toggle from '@leafygreen-ui/toggle';\nimport { Subtitle } from '@leafygreen-ui/typography';\n\nimport { emptyPlayerResult, PlayerHandicap, PlayerMatch, PlayerMatchType } from '../../../types';\n\nconst StyledPlayerSplits = styled.div`\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n  width: 720px;\n  @media (max-width: 720px) {\n    max-width: 100%;\n  }\n`;\n\nconst Controls = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Control = styled.div`\n  margin-left: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Label = styled.label`\n  font-size: 12px;\n  font-weight: bold;\n`;\n\nconst StyledRow = styled(Row, {\n  shouldForwardProp: prop => prop !== 'noBorder',\n})<{ noBorder: boolean }>`\n  ${({ theme, noBorder }) =>\n    !noBorder && {\n      borderTop: `1px solid ${theme.colors.lg.gray.light1}`,\n    }}\n`;\n\ninterface Props {\n  handicaps: PlayerHandicap[];\n  matches: PlayerMatch[];\n  xref: string;\n}\n\ninterface Splits {\n  matchups: Record<number, Split>;\n  races: Record<'long' | 'short', Split>;\n  rounds: Record<PlayerMatchType, Split>;\n  total: Split;\n}\n\ninterface Split {\n  wins: number;\n  losses: number;\n  gamesWon: number;\n  gamesLost: number;\n  diffWins: number;\n  diffLosses: number;\n  weeks: number[];\n}\n\nconst emptySplit = (): Split => ({\n  wins: 0,\n  losses: 0,\n  gamesWon: 0,\n  gamesLost: 0,\n  diffWins: 0,\n  diffLosses: 0,\n  weeks: [],\n});\n\ninterface SplitData extends Split {\n  name: string;\n}\n\nfunction PlayerSplits({ handicaps, matches, xref }: Props) {\n  const handicapSet = useMemo(() => {\n    const set: Record<number, true> = {};\n    return handicaps\n      .filter(({ value }) => {\n        if (set[value]) {\n          return false;\n        }\n        set[value] = true;\n        return true;\n      })\n      .map(({ value }) => value + '');\n  }, [handicaps]);\n\n  const [selectedHandicap, setSelectedHandicap] = useState('');\n  const [showExpandedView, setShowExpandedView] = useState(false);\n  const [excludeForfeits, setExcludeForfeits] = useState(true);\n\n  const [splits, setSplits] = useState<(SplitData & { noBorder: boolean })[]>([]);\n  useEffect(() => {\n    const splits = matches.reduce<Splits>(\n      (acc, match) => {\n        const self = match.players.find(p => p.xref + '' === xref) || emptyPlayerResult();\n        const opp = match.players.find(p => p.xref + '' !== xref) || emptyPlayerResult();\n\n        if (excludeForfeits && match.forfeit) {\n          return acc;\n        }\n\n        if (selectedHandicap && self.handicap + '' !== selectedHandicap) {\n          return acc;\n        }\n\n        let race: keyof Splits['races'];\n        if (self.handicap + opp.handicap > 10) {\n          race = 'long';\n        } else {\n          race = 'short';\n        }\n        if (self.win) {\n          acc.races[race].wins++;\n          acc.races[race].diffWins += self.games_won - opp.games_won;\n        } else {\n          acc.races[race].losses++;\n          acc.races[race].diffLosses += opp.games_won - self.games_won;\n        }\n        acc.races[race].gamesWon += self.games_won;\n        acc.races[race].gamesLost += opp.games_won;\n        acc.races[race].weeks.unshift(match.week_num);\n\n        if (self.win) {\n          acc.rounds[match.type].wins++;\n          acc.rounds[match.type].diffWins += self.games_won - opp.games_won;\n        } else {\n          acc.rounds[match.type].losses++;\n          acc.rounds[match.type].diffLosses += opp.games_won - self.games_won;\n        }\n        acc.rounds[match.type].gamesWon += self.games_won;\n        acc.rounds[match.type].gamesLost += opp.games_won;\n        acc.rounds[match.type].weeks.unshift(match.week_num);\n\n        const matchup = acc.matchups[opp.handicap - self.handicap] || emptySplit();\n        if (self.win) {\n          matchup.wins++;\n          matchup.diffWins += self.games_won - opp.games_won;\n        } else {\n          matchup.losses++;\n          matchup.diffLosses += opp.games_won - self.games_won;\n        }\n        matchup.gamesWon += self.games_won;\n        matchup.gamesLost += opp.games_won;\n        matchup.weeks.unshift(match.week_num);\n        acc.matchups[opp.handicap - self.handicap] = matchup;\n\n        if (self.win) {\n          acc.total.wins++;\n          acc.total.diffWins += self.games_won - opp.games_won;\n        } else {\n          acc.total.losses++;\n          acc.total.diffLosses += opp.games_won - self.games_won;\n        }\n        acc.total.gamesWon += self.games_won;\n        acc.total.gamesLost += opp.games_won;\n        acc.total.weeks.unshift(match.week_num);\n\n        return acc;\n      },\n      {\n        matchups: {},\n        races: {\n          long: emptySplit(),\n          short: emptySplit(),\n        },\n        rounds: {\n          R1: emptySplit(),\n          R2: emptySplit(),\n          TB: emptySplit(),\n        },\n        total: emptySplit(),\n      },\n    );\n\n    let matchups: SplitData[];\n    if (!showExpandedView) {\n      matchups = Object.entries(\n        Object.entries(splits.matchups).reduce(\n          (acc, [matchup, split]) => {\n            let key: keyof typeof acc;\n            if (matchup > '0') {\n              key = 'up';\n            } else if (matchup < '0') {\n              key = 'down';\n            } else {\n              key = 'even';\n            }\n\n            acc[key].wins += split.wins;\n            acc[key].losses += split.losses;\n            acc[key].gamesWon += split.gamesWon;\n            acc[key].gamesLost += split.gamesLost;\n            acc[key].diffWins += split.diffWins;\n            acc[key].diffLosses += split.diffLosses;\n            acc[key].weeks.push(...split.weeks);\n            acc[key].weeks.sort((w1, w2) => w1 - w2);\n\n            return acc;\n          },\n          { up: emptySplit(), even: emptySplit(), down: emptySplit() },\n        ),\n      ).map(([name, split]) => ({ name: basicMatchupDisplay(name), ...split }));\n    } else {\n      matchups = Object.entries(splits.matchups).map(([name, split]) => ({ name, ...split }));\n      matchups.sort((m1, m2) => parseInt(m2.name, 10) - parseInt(m1.name, 10));\n      matchups = matchups.map(({ name, ...matchup }) => ({ name: detailedMatchupDisplay(name), ...matchup }));\n    }\n\n    setSplits([\n      { name: 'Totals', ...splits.total, noBorder: false },\n      ...Object.entries(splits.races)\n        .filter(([type, split]) => split.weeks.length)\n        .map(([name, split], i) => ({ name: raceDisplay(name), ...split, noBorder: i !== 0 })),\n      ...Object.entries(splits.rounds)\n        .filter(([type, split]) => type !== 'TB' || split.weeks.length)\n        .map(([name, split], i) => ({ name: roundDisplay(name), ...split, noBorder: i !== 0 })),\n      ...matchups.filter(split => split.weeks.length).map((split, i) => ({ ...split, noBorder: i !== 0 })),\n    ]);\n  }, [matches, selectedHandicap, showExpandedView, excludeForfeits, xref]);\n\n  return (\n    <StyledPlayerSplits>\n      <Controls>\n        <Subtitle style={{ flex: 1 }}>Player Splits</Subtitle>\n        <Select\n          label=\"As Rank\"\n          placeholder=\"All\"\n          name=\"splits_handicap\"\n          style={{ width: '90px' }}\n          value={selectedHandicap}\n          onChange={val => setSelectedHandicap(val || '')}\n        >\n          {handicapSet.map(handicap => (\n            <Option key={handicap} value={handicap}>\n              {handicap}\n            </Option>\n          ))}\n        </Select>\n        <Control>\n          <Label id=\"splits_expanded_label\" htmlFor=\"splits_expanded_toggle\">\n            Detailed View\n          </Label>\n          <Toggle\n            id=\"splits_expanded_toggle\"\n            aria-labelledby=\"splits_expanded_label\"\n            checked={showExpandedView}\n            onChange={checked => setShowExpandedView(checked)}\n          />\n        </Control>\n        <Control>\n          <Label id=\"splits_forfeits_label\" htmlFor=\"splits_forfeits_toggle\">\n            Exclude Forfeits\n          </Label>\n          <Toggle\n            id=\"splits_forfeits_toggle\"\n            aria-labelledby=\"splits_forfeits_label\"\n            checked={excludeForfeits}\n            onChange={checked => setExcludeForfeits(checked)}\n          />\n        </Control>\n      </Controls>\n      <Table\n        data={splits}\n        columns={[\n          <TableHeader label=\"Split\" />,\n          <TableHeader label=\"Wins\" />,\n          <TableHeader label=\"Losses\" />,\n          <TableHeader label=\"Games For\" />,\n          <TableHeader label=\"Games Against\" />,\n          <TableHeader label=\"Win Margin\" />,\n          <TableHeader label=\"Loss Margin\" />,\n          <TableHeader label=\"Weeks\" />,\n        ]}\n      >\n        {({ datum: split }) => (\n          <StyledRow key={split.name} noBorder={split.noBorder}>\n            <Cell>{split.name}</Cell>\n            <Cell>{split.wins}</Cell>\n            <Cell>{split.losses}</Cell>\n            <Cell>{split.gamesWon}</Cell>\n            <Cell>{split.gamesLost}</Cell>\n            <Cell>{!split.wins ? '' : (split.diffWins / split.wins).toFixed(2)}</Cell>\n            <Cell>{!split.losses ? '' : (split.diffLosses / split.losses).toFixed(2)}</Cell>\n            <Cell>{split.weeks.join(', ')}</Cell>\n          </StyledRow>\n        )}\n      </Table>\n    </StyledPlayerSplits>\n  );\n}\n\nexport default PlayerSplits;\n\nfunction basicMatchupDisplay(matchup: string) {\n  if (matchup === 'up') {\n    return 'Getting balls';\n  }\n  if (matchup === 'down') {\n    return 'Giving balls';\n  }\n  return 'Straight up';\n}\n\nfunction detailedMatchupDisplay(matchup: string) {\n  if (matchup === '0') {\n    return 'Straight up';\n  }\n\n  let prefix = 'Getting ';\n  let value = matchup;\n  if (matchup.charAt(0) === '-') {\n    prefix = 'Giving ';\n    value = matchup.substring(1);\n  }\n\n  return prefix + value;\n}\n\nfunction raceDisplay(type: string) {\n  return type.charAt(0).toUpperCase() + type.substring(1) + ' race';\n}\n\nfunction roundDisplay(type: string) {\n  if (type === 'R1') {\n    return 'Playing first';\n  }\n  if (type === 'R2') {\n    return 'Playing second';\n  }\n  return 'Fifth set';\n}\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { Combobox, ComboboxGroup, ComboboxOption } from '@leafygreen-ui/combobox';\n\nimport {\n  emptyPlayerHandicap,\n  emptyPlayerRecord,\n  emptyPlayerResult,\n  AmsterdamKey,\n  PlayerHandicap,\n  PlayerMatch,\n  PlayerRecord,\n  Team,\n  TeamPlayer,\n  TeamMatch,\n} from '../../../types';\n\nimport PlayerDetails from './details';\nimport PlayerMatches from './matches';\nimport PlayerSplits from './splits';\n\nconst Dashboard = styled.div`\n  padding: 0 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StyledCombobox = styled(Combobox)`\n  margin-bottom: 1rem;\n  max-width: 360px;\n  @media (max-width: 720px) {\n    max-width: 100%;\n  }\n`;\n\ninterface Props {\n  playerMatchesByXref: Record<string, PlayerMatch[]>;\n  playersByTeamXref: Record<number, TeamPlayer[]>;\n  teamsByXref: Record<string, Team>;\n  teamMatchesById: Record<string, TeamMatch>;\n}\n\nfunction PlayerDashboard({ playerMatchesByXref, playersByTeamXref, teamsByXref }: Props) {\n  const location = useLocation();\n  const xref = (location as any).state?.xref;\n\n  const [selectedPlayer, setSelectedPlayer] = useState<string | null>();\n  useEffect(() => {\n    setSelectedPlayer(xref);\n  }, [xref]);\n\n  const [playerMatches, setPlayerMatches] = useState<PlayerMatch[]>([]);\n  const [playerTeam, setPlayerTeam] = useState<AmsterdamKey>(emptyPlayerResult());\n  const [playerRecord, setPlayerRecord] = useState<PlayerRecord>(emptyPlayerRecord());\n  const [playerHandicaps, setPlayerHandicaps] = useState<PlayerHandicap[]>([]);\n  useEffect(() => {\n    if (!selectedPlayer) {\n      setPlayerMatches([]);\n      return;\n    }\n\n    const playerMatches = playerMatchesByXref[selectedPlayer] || [];\n    setPlayerMatches(playerMatches);\n\n    if (!playerMatches.length) {\n      return;\n    }\n\n    const reversed = [...playerMatches];\n    reversed.sort((m1, m2) => {\n      const date = m1.date.getTime() - m2.date.getTime();\n      if (date === 0) {\n        return m1.seq - m2.seq;\n      }\n      return date;\n    });\n\n    const handicaps: PlayerHandicap[] = [];\n\n    setPlayerRecord(\n      reversed.reduce((acc, match, i) => {\n        const result = match.players.find(p => p.xref + '' === selectedPlayer) || emptyPlayerResult();\n\n        if (i === 0) {\n          setPlayerTeam(result.team);\n          handicaps.push(emptyPlayerHandicap(result.handicap));\n        } else {\n          if (handicaps[0].value !== result.handicap) {\n            handicaps[0].lastWeek = reversed[i - 1].week_num;\n            handicaps.unshift(emptyPlayerHandicap(result.handicap));\n          }\n        }\n\n        if (result.win) {\n          acc.wins++;\n          if (acc.streak > 0) {\n            acc.streak++;\n          } else {\n            acc.streak = 1;\n          }\n        } else {\n          acc.losses++;\n          if (acc.streak < 0) {\n            acc.streak--;\n          } else {\n            acc.streak = -1;\n          }\n        }\n\n        return acc;\n      }, emptyPlayerRecord()),\n    );\n\n    setPlayerHandicaps(handicaps);\n  }, [selectedPlayer, playerMatchesByXref]);\n\n  return (\n    <Dashboard>\n      <Link to={'..'}>\n        Back to Standings\n      </Link>\n      <StyledCombobox\n        label=\"Player Name\"\n        description=\"Choose a player to view stats\"\n        placeholder=\"Select a player...\"\n        value={selectedPlayer}\n        onChange={setSelectedPlayer}\n      >\n        {Object.entries(playersByTeamXref).map(([teamXref, players]) => (\n          <ComboboxGroup key={teamXref} label={teamsByXref[teamXref].name}>\n            {players.map(player => (\n              <ComboboxOption key={player.xref} value={player.xref + ''} displayName={player.name} />\n            ))}\n          </ComboboxGroup>\n        ))}\n      </StyledCombobox>\n      {selectedPlayer && <PlayerDetails handicaps={playerHandicaps} record={playerRecord} team={playerTeam} />}\n      {selectedPlayer && <PlayerMatches matches={playerMatches} xref={selectedPlayer} />}\n      {selectedPlayer && <PlayerSplits handicaps={playerHandicaps} matches={playerMatches} xref={selectedPlayer} />}\n    </Dashboard>\n  );\n}\n\nexport default PlayerDashboard;\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { Table, TableHeader, Row, Cell } from '@leafygreen-ui/table';\n\nimport { PlainButton } from '../../../components';\nimport { emptyPlayerResult, PlayerMatch } from '../../../types';\n\nconst StyledRow = styled(Row, {\n  shouldForwardProp: prop => prop !== 'win' && prop !== 'loss',\n})<{ win?: boolean; loss?: boolean }>`\n  ${({ theme, win, loss }) =>\n    win\n      ? {\n          backgroundColor: theme.colors.lg.green.light2,\n        }\n      : loss\n      ? {\n          backgroundColor: theme.colors.lg.red.light2,\n        }\n      : {}}\n`;\n\ninterface Props {\n  linkToPlayers?: string;\n  playerMatches: PlayerMatch[];\n  selfTeamXref: number;\n}\n\nfunction MatchView({ linkToPlayers = 'players', playerMatches, selfTeamXref }: Props) {\n  const navTo = useNavigate();\n  return (\n    <Table\n      data={playerMatches}\n      columns={[\n        <TableHeader label=\"Player\" />,\n        <TableHeader label=\"HCP\" />,\n        <TableHeader label=\"Games\" />,\n        <TableHeader label=\"Opponent\" />,\n        <TableHeader label=\"HCP\" />,\n        <TableHeader label=\"Games\" />,\n      ]}\n    >\n      {({ datum: pm }) => {\n        const self = pm.players.find(p => p.team.xref === selfTeamXref) || emptyPlayerResult();\n        const opp = pm.players.find(p => p.team.xref !== selfTeamXref) || emptyPlayerResult();\n        return (\n          <StyledRow key={pm._id} win={self.win} loss={self.loss}>\n            <Cell>\n              <PlainButton onClick={() => navTo(linkToPlayers, { state: { xref: self.xref + '' } })}>\n                {self.name}\n              </PlainButton>\n            </Cell>\n            <Cell>{self.handicap}</Cell>\n            <Cell>{self.games_won}</Cell>\n            <Cell>\n              <PlainButton onClick={() => navTo(linkToPlayers, { state: { xref: opp.xref + '' } })}>\n                {opp.name}\n              </PlainButton>\n            </Cell>\n            <Cell>{opp.handicap}</Cell>\n            <Cell>{opp.games_won}</Cell>\n          </StyledRow>\n        );\n      }}\n    </Table>\n  );\n}\n\nexport default MatchView;\n","import React, { useEffect, useState } from 'react';\nimport styled from '@emotion/styled';\nimport ExpandableCard from '@leafygreen-ui/expandable-card';\nimport { H3 } from '@leafygreen-ui/typography';\n\nimport { PlayerMatch, Team, TeamMatch, TeamMatchup, TeamRecord, TeamResult } from '../../../types';\n\nimport { PlayerTeamResults } from '../player';\n\nimport MatchView from './match_view';\n\nconst emptyTeamResult = (): TeamResult => ({ xref: 0, name: '', games_won: 0, matches_won: 0 });\n\nconst Matches = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  justify-content: center;\n  max-width: 100%;\n`;\n\ninterface Props {\n  linkToPlayers?: string;\n  playerMatchesByTeamXref: Record<number, PlayerMatch[]>;\n  team?: Team;\n  teamMatchesById: Record<string, TeamMatch>;\n  teamRecordsByXref: Record<number, TeamRecord>;\n}\n\nfunction TeamView({ linkToPlayers, playerMatchesByTeamXref, team, teamMatchesById, teamRecordsByXref }: Props) {\n  const [playerMatchesById, setPlayerMatchesById] = useState<Record<string, PlayerMatch[]>>({});\n  useEffect(() => {\n    const playerMatchesById = (playerMatchesByTeamXref[team?.xref || 0] || []).reduce<Record<string, PlayerMatch[]>>(\n      (acc, playerMatch) => ({\n        ...acc,\n        [playerMatch.match_id]: [...(acc[playerMatch.match_id] || []), playerMatch],\n      }),\n      {},\n    );\n    Object.entries(playerMatchesById).forEach(([matchId, playerMatches]) => {\n      playerMatches.sort((m1, m2) => m1.seq - m2.seq);\n      playerMatchesById[matchId] = playerMatches;\n    });\n    setPlayerMatchesById(playerMatchesById);\n  }, [team?.xref, playerMatchesByTeamXref]);\n\n  if (!team) {\n    return null;\n  }\n\n  return (\n    <>\n      <H3 style={{ marginTop: '1rem' }}>Player Results</H3>\n      <PlayerTeamResults\n        linkToPlayers={linkToPlayers}\n        playerMatches={playerMatchesByTeamXref[team.xref] || []}\n        selfTeamXref={team.xref}\n      />\n      <H3 style={{ marginTop: '1rem' }}>Team Results</H3>\n      <Matches>\n        {team.schedule.map(({ display, match_id, opp }) => {\n          const teamMatchup = newTeamMatchup(team.xref, teamMatchesById[match_id || ''] || { teams: [] });\n          return (\n            <ExpandableCard\n              key={display}\n              title={`${display}: vs. ${opp?.name || '...'} (${teamRecord(teamRecordsByXref[opp?.xref || 0])})`}\n              description={!match_id ? '' : matchDescription(teamMatchup)}\n            >\n              {!match_id && (\n                <PlayerTeamResults\n                  linkToPlayers={linkToPlayers}\n                  playerMatches={playerMatchesByTeamXref[opp?.xref || 0] || []}\n                  selfTeamXref={opp?.xref}\n                />\n              )}\n              {match_id && (\n                <MatchView\n                  linkToPlayers={linkToPlayers}\n                  playerMatches={playerMatchesById[match_id || ''] || []}\n                  selfTeamXref={team.xref}\n                />\n              )}\n            </ExpandableCard>\n          );\n        })}\n      </Matches>\n    </>\n  );\n}\n\nexport default TeamView;\n\nfunction matchDescription({ self, opp }: TeamMatchup) {\n  return `${self.win ? ' Win' : ' Loss'}: ${self.matches_won}-${opp.matches_won}, ${self.games_won}-${\n    opp.games_won\n  }`;\n}\n\nfunction newTeamMatchup(selectedTeamXref: number, teamMatch: Pick<TeamMatch, 'teams'>): TeamMatchup {\n  const self = teamMatch.teams.find(t => t.xref === selectedTeamXref) || emptyTeamResult();\n  const opp = teamMatch.teams.find(t => t.xref !== selectedTeamXref) || emptyTeamResult();\n  return { self, opp };\n}\n\nfunction teamRecord(tr = { wins: 0, losses: 0 }) {\n  return `${tr.wins}-${tr.losses}`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from '@emotion/styled';\n\nimport { PlayerMatch, Team, TeamMatch, TeamRecord } from '../../../types';\n\nimport TeamHeader from './header';\nimport TeamView from './view';\n\nconst Dashboard = styled.div`\n  padding: 0 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\ninterface Props {\n  playerMatchesByTeamXref: Record<number, PlayerMatch[]>;\n  teamsByXref: Record<string, Team>;\n  teamMatchesById: Record<string, TeamMatch>;\n  teamRecordsByXref: Record<string, TeamRecord>;\n}\n\nfunction TeamDashboard({\n  playerMatchesByTeamXref,\n  teamsByXref,\n  teamMatchesById,\n  teamRecordsByXref,\n}: Props) {\n  const { xref } = useParams();\n  const [team, setTeam] = useState<Team>();\n  const [teamRecord, setTeamRecord] = useState<TeamRecord>();\n  useEffect(() => {\n    if (!xref) {\n      return;\n    }\n    setTeam(teamsByXref[xref]);\n    setTeamRecord(teamRecordsByXref[xref]);\n  }, [teamsByXref, teamRecordsByXref, xref]);\n  return (\n    <Dashboard>\n      <TeamHeader team={team} teamRecord={teamRecord} />\n      <TeamView\n        linkToPlayers=\"../players\"\n        playerMatchesByTeamXref={playerMatchesByTeamXref}\n        team={team}\n        teamMatchesById={teamMatchesById}\n        teamRecordsByXref={teamRecordsByXref}\n      />\n    </Dashboard>\n  );\n}\n\nexport default TeamDashboard;\n","import React, { useEffect, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { useNavigate } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport Modal from '@leafygreen-ui/modal';\nimport { Table, TableHeader, Row, Cell } from '@leafygreen-ui/table';\nimport { H2, H3 } from '@leafygreen-ui/typography';\n\nimport { PlainButton } from '../../components';\nimport { dayOfWeek, PlayerMatch, Season, Team, TeamMatch, TeamRecord } from '../../types';\n\nimport { TeamHeader, TeamView } from './team'\n\nconst Leagues = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst Divisions = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 1rem;\n`;\n\nconst Division = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n`;\n\ninterface Props {\n  season: Season;\n  playerMatches: PlayerMatch[];\n  playerMatchesByTeamXref: Record<number, PlayerMatch[]>;\n  teamsByXref: Record<number, Team>;\n  teamMatchesById: Record<string, TeamMatch>;\n  teamRecordsByXref: Record<number, TeamRecord>;\n}\n\nfunction TeamDashboard({\n  playerMatchesByTeamXref,\n  season,\n  teamsByXref,\n  teamMatchesById,\n  teamRecordsByXref,\n}: Props) {\n  const navTo = useNavigate();\n\n  const [teamXrefsByDivision, setTeamXrefsByDivision] = useState<Record<string, number[]>>({});\n  useEffect(() => {\n    setTeamXrefsByDivision(\n      Object.values(teamsByXref).reduce<Record<string, number[]>>(\n        (acc, team) => ({\n          ...acc,\n          [team.division_name]: [...(acc[team.division_name] || []), team.xref],\n        }),\n        {},\n      ),\n    );\n  }, [teamsByXref]);\n\n  const [divisions, setDivisions] = useState<Record<string, TeamRecord[]>>({});\n  useEffect(() => {\n    setDivisions(\n      Object.entries(teamXrefsByDivision).reduce((acc, [divisionName, xrefs]) => {\n        const teamRecords = xrefs.map(\n          xref => teamRecordsByXref[xref] || { xref: 0, name: '', rank: 0, wins: 0, losses: 0, pct: 0 },\n        );\n        teamRecords.sort((tr1, tr2) =>\n          tr1.wins === tr2.wins\n            ? tr1.losses === tr2.losses\n              ? tr2.pct - tr1.pct\n              : tr1.losses - tr2.losses\n            : tr2.wins - tr1.wins,\n        );\n        return {\n          ...acc,\n          [divisionName]: teamRecords.map((tr, i) => ({ ...tr, rank: i + 1 })),\n        };\n      }, {}),\n    );\n  }, [teamXrefsByDivision, teamRecordsByXref]);\n\n  const [modalTeam, setModalTeam] = useState(0);\n\n  const isMobile = useMediaQuery({ query: '(max-width: 720px)' });\n\n  return (\n    <>\n      <Leagues>\n        {season.nights.map(night => (\n          <Divisions key={night}>\n            <H2 style={{ marginBottom: '1rem' }}>{dayOfWeek(night)}</H2>\n            {season.divisions[night]!.map(divisionName => (\n              <Division key={divisionName}>\n                {divisions[divisionName] && (\n                  <>\n                    <H3>{divisionName}</H3>\n                    <Table\n                      data={divisions[divisionName]}\n                      columns={[\n                        <TableHeader label=\"Place\" />,\n                        <TableHeader label=\"Team Name\" />,\n                        <TableHeader label=\"W's\" />,\n                        <TableHeader label=\"L's\" />,\n                        <TableHeader label=\"PCT.\" />,\n                      ]}\n                    >\n                      {({ datum: ts }) => (\n                        <Row key={ts.xref}>\n                          <Cell>{ts.rank}</Cell>\n                          <Cell>\n                            <PlainButton onClick={() => (isMobile ? navTo(ts.xref + '') : setModalTeam(ts.xref))}>\n                              {ts.name}\n                            </PlainButton>\n                          </Cell>\n                          <Cell>{ts.wins}</Cell>\n                          <Cell>{ts.losses}</Cell>\n                          <Cell>{ts.pct.toFixed(3)}</Cell>\n                        </Row>\n                      )}\n                    </Table>\n                  </>\n                )}\n              </Division>\n            ))}\n          </Divisions>\n        ))}\n      </Leagues>\n      <Modal\n        open={!!modalTeam}\n        setOpen={open => {\n          if (!open) {\n            setModalTeam(0);\n          }\n        }}\n      >\n        <>\n          <TeamHeader modalView team={teamsByXref[modalTeam]} teamRecord={teamRecordsByXref[modalTeam]} />\n          <TeamView\n            playerMatchesByTeamXref={playerMatchesByTeamXref}\n            team={teamsByXref[modalTeam]}\n            teamMatchesById={teamMatchesById}\n            teamRecordsByXref={teamRecordsByXref}\n          />\n        </>\n      </Modal>\n    </>\n  );\n}\n\nexport default TeamDashboard;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { LoadingSpinner } from '../../components';\nimport { AmsterdamKey, PlayerMatch, Season, Team, TeamMatch, TeamPlayer, TeamRecord } from '../../types';\n\nimport Admin from './admin';\nimport Dashboard from './dashboard';\nimport PlayerDashboard from './player';\nimport TeamDashboard from './team';\n\ninterface Props {\n  seasons: Season[];\n  loadPlayerMatches: (seasonXref: number) => Promise<PlayerMatch[]>;\n  loadTeams: (seasonXref: number) => Promise<Team[]>;\n  loadTeamMatches: (seasonXref: number) => Promise<TeamMatch[]>;\n  saveDivisions: (seasonXref: number, divisions: Season['divisions']) => Promise<void>;\n  saveTeams: (seasonXref: number, teams: Omit<Team, '_id' | 'season_xref' | 'schedule'>[]) => Promise<void>;\n}\n\ninterface MatchStats extends AmsterdamKey {\n  wins: number;\n  losses: number;\n  gamesWon: number;\n  gamesTotal: number;\n}\n\nexport const emptyMatchStats = (xref = 0, name = ''): MatchStats => ({\n  xref,\n  name,\n  wins: 0,\n  losses: 0,\n  gamesWon: 0,\n  gamesTotal: 0,\n});\n\nfunction TeamRouter({ seasons, loadPlayerMatches, loadTeams, loadTeamMatches, saveDivisions, saveTeams }: Props) {\n  const { year, term, type } = useParams();\n\n  const season = useMemo(() => {\n    return seasons.find(s => s.year + '' === year && s.term === term && s.type === type);\n  }, [seasons, year, term, type]);\n\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [teamsByXref, setTeamsByXref] = useState<Record<number, Team>>({});\n  useEffect(() => {\n    if (!season) {\n      return;\n    }\n    loadTeams(season.xref).then(teams => {\n      setTeams(teams);\n      setTeamsByXref(teams.reduce((acc, team) => ({ ...acc, [team.xref]: team }), {}));\n    });\n  }, [loadTeams, season]);\n\n  const [teamMatchesById, setTeamMatchesById] = useState<Record<string, TeamMatch>>({});\n  const [teamRecordsByXref, setTeamRecordsByXref] = useState<Record<number, TeamRecord>>({});\n  useEffect(() => {\n    if (!season) {\n      return;\n    }\n    loadTeamMatches(season.xref).then(teamMatches => {\n      setTeamMatchesById(\n        teamMatches.reduce<Record<string, TeamMatch>>((acc, teamMatch) => ({ ...acc, [teamMatch._id]: teamMatch }), {}),\n      );\n\n      setTeamRecordsByXref(\n        Object.entries(\n          teamMatches.reduce<Record<number, MatchStats>>((outer, teamMatch) => {\n            var gamesTotal = 0;\n            const matchStats = teamMatch.teams.reduce<Record<number, MatchStats>>((inner, team) => {\n              const teamStats: MatchStats = outer[team.xref] || emptyMatchStats(team.xref, team.name);\n              teamStats.wins += team.win ? 1 : 0;\n              teamStats.losses += team.loss ? 1 : 0;\n              teamStats.gamesWon += team.games_won;\n              gamesTotal += team.games_won;\n              return { ...inner, [team.xref]: teamStats };\n            }, {});\n            Object.values(matchStats).forEach(teamStats => {\n              teamStats.gamesTotal += gamesTotal;\n            });\n            return { ...outer, ...matchStats };\n          }, {}),\n        ).reduce(\n          (acc, [xref, teamStats]) => ({\n            ...acc,\n            [xref]: {\n              xref: teamStats.xref,\n              name: teamStats.name,\n              rank: 0,\n              wins: teamStats.wins,\n              losses: teamStats.losses,\n              pct: teamStats.gamesWon / teamStats.gamesTotal,\n            },\n          }),\n          {},\n        ),\n      );\n    });\n  }, [loadTeamMatches, season]);\n\n  const [playerMatches, setPlayerMatches] = useState<PlayerMatch[]>([]);\n  const [playerMatchesByXref, setPlayerMatchesByXref] = useState<Record<number, PlayerMatch[]>>({});\n  const [playerMatchesByTeamXref, setPlayerMatchesByTeamXref] = useState<Record<number, PlayerMatch[]>>({});\n  const [playersByTeamXref, setPlayersByTeamXref] = useState<Record<number, TeamPlayer[]>>({});\n  useEffect(() => {\n    if (!season) {\n      return;\n    }\n    loadPlayerMatches(season.xref).then(playerMatches => {\n      setPlayerMatches(playerMatches);\n\n      const playerMatchesByXref = playerMatches.reduce<Record<number, PlayerMatch[]>>(\n        (outer, playerMatch) => ({\n          ...outer,\n          ...playerMatch.players.reduce(\n            (inner, player) => ({\n              ...inner,\n              [player.xref]: [...(outer[player.xref] || []), playerMatch],\n            }),\n            {},\n          ),\n        }),\n        {},\n      );\n      Object.values(playerMatchesByXref).forEach(playerMatches => {\n        playerMatches.sort((pm1, pm2) => {\n          const date = pm2.date.getTime() - pm1.date.getTime()\n          if (date) {\n            return date\n          }\n          return pm2.seq - pm1.seq\n        });\n      });\n      setPlayerMatchesByXref(playerMatchesByXref);\n\n      setPlayerMatchesByTeamXref(\n        playerMatches.reduce<Record<number, PlayerMatch[]>>(\n          (outer, playerMatch) => ({\n            ...outer,\n            ...playerMatch.players.reduce(\n              (inner, player) => ({\n                ...inner,\n                [player.team.xref]: [...(outer[player.team.xref] || []), playerMatch],\n              }),\n              {},\n            ),\n          }),\n          {},\n        ),\n      );\n\n      setPlayersByTeamXref(\n        Object.entries(\n          playerMatches.reduce<Record<number, Record<number, TeamPlayer>>>(\n            (outer, playerMatch) => ({\n              ...outer,\n              ...playerMatch.players.reduce(\n                (inner, player) => ({\n                  ...inner,\n                  [player.team.xref]: {\n                    ...(outer[player.team.xref] || {}),\n                    [player.xref]: player,\n                  },\n                }),\n                {},\n              ),\n            }),\n            {},\n          ),\n        ).reduce((acc, [teamXref, playersMap]) => {\n          const players = Object.values(playersMap);\n          players.sort((p1, p2) => p1.xref - p2.xref);\n          return { ...acc, [teamXref]: players };\n        }, {}),\n      );\n    });\n  }, [loadPlayerMatches, season]);\n\n  if (!season) {\n    return <LoadingSpinner />;\n  }\n  return (\n    <Routes>\n      <Route\n        path=\"/\"\n        element={\n          <Dashboard\n            season={season}\n            playerMatches={playerMatches}\n            playerMatchesByTeamXref={playerMatchesByTeamXref}\n            teamsByXref={teamsByXref}\n            teamMatchesById={teamMatchesById}\n            teamRecordsByXref={teamRecordsByXref}\n          />\n        }\n      />\n      <Route\n        path=\"admin\"\n        element={\n          <Admin\n            season={season}\n            teams={teams}\n            saveDivisions={divisions => saveDivisions(season.xref, divisions)}\n            saveTeams={teams => saveTeams(season.xref, teams)}\n          />\n        }\n      />\n      <Route\n        path=\"players\"\n        element={\n          <PlayerDashboard\n            playerMatchesByXref={playerMatchesByXref}\n            playersByTeamXref={playersByTeamXref}\n            teamsByXref={teamsByXref}\n            teamMatchesById={teamMatchesById}\n          />\n        }\n      />\n      <Route\n        path=\":xref\"\n        element={\n          <TeamDashboard\n            playerMatchesByTeamXref={playerMatchesByTeamXref}\n            teamsByXref={teamsByXref}\n            teamMatchesById={teamMatchesById}\n            teamRecordsByXref={teamRecordsByXref}\n          />\n        }\n      />\n    </Routes>\n  );\n}\n\nexport default TeamRouter;\n","import React, { useState } from 'react';\nimport Checkbox from '@leafygreen-ui/checkbox';\nimport FormFooter from '@leafygreen-ui/form-footer';\nimport { Option, Select } from '@leafygreen-ui/select';\nimport TextInput from '@leafygreen-ui/text-input';\nimport { Body } from '@leafygreen-ui/typography';\n\nimport { isLeagueType, isSeasonTerm, DayOfWeek, LeagueType, Season, SeasonTerm } from '../../types';\n\ninterface Props {\n  saveSeason: (season: Omit<Season, '_id'>) => Promise<void>;\n}\n\nfunction NewSeason({ saveSeason }: Props) {\n  const [yearInput, setYearInput] = useState('');\n  const [termInput, setTermInput] = useState('');\n  const [typeInput, setTypeInput] = useState('');\n  const [xrefInput, setXrefInput] = useState('');\n  const [name, setName] = useState('');\n  const [monday, setMonday] = useState(false);\n  const [tuesday, setTuesday] = useState(false);\n  const [wednesday, setWednesday] = useState(false);\n  const [thursday, setThursday] = useState(false);\n  const [friday, setFriday] = useState(false);\n  const [saturday, setSaturday] = useState(false);\n  const [sunday, setSunday] = useState(false);\n  const [numWeeksInput, setNumWeeksInput] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  return (\n    <>\n      <Select label=\"Year\" placeholder=\"Choose a year...\" value={yearInput} onChange={setYearInput}>\n        <Option value=\"2022\">2022</Option>\n      </Select>\n      <Select label=\"Term\" placeholder=\"Choose a term...\" value={termInput} onChange={setTermInput}>\n        <Option value=\"winter\">Winter</Option>\n        <Option value=\"spring\">Spring</Option>\n        <Option value=\"summer\">Summer</Option>\n        <Option value=\"fall\">Fall</Option>\n      </Select>\n      <Select label=\"League type\" placeholder=\"Choose a league...\" value={typeInput} onChange={setTypeInput}>\n        <Option value=\"team_8ball\">Team 8 Ball</Option>\n      </Select>\n      <TextInput\n        label=\"Amsterdam Key\"\n        description=\"Enter the Amsterdam site season id\"\n        onChange={e => setXrefInput(e.target.value)}\n        value={xrefInput}\n      />\n      <TextInput\n        label=\"Name\"\n        description=\"Enter the season name\"\n        onChange={e => setName(e.target.value)}\n        value={name}\n      />\n      <div>\n        <Body>Select the nights the league plays on</Body>\n        <div>\n          <Checkbox label=\"Monday\" checked={monday} onChange={e => setMonday(e.target.checked)} />\n          <Checkbox label=\"Tuesday\" checked={tuesday} onChange={e => setTuesday(e.target.checked)} />\n          <Checkbox label=\"Wednesday\" checked={wednesday} onChange={e => setWednesday(e.target.checked)} />\n          <Checkbox label=\"Thursday\" checked={thursday} onChange={e => setThursday(e.target.checked)} />\n          <Checkbox label=\"Friday\" checked={friday} onChange={e => setFriday(e.target.checked)} />\n          <Checkbox label=\"Saturday\" checked={saturday} onChange={e => setSaturday(e.target.checked)} />\n          <Checkbox label=\"Sunday\" checked={sunday} onChange={e => setSunday(e.target.checked)} />\n        </div>\n      </div>\n      <TextInput\n        label=\"Season length\"\n        description=\"Enter the number of weeks of the regular season\"\n        onChange={e => setNumWeeksInput(e.target.value)}\n        value={numWeeksInput}\n      />\n      <FormFooter\n        primaryButton={{\n          text: 'Save',\n          onClick: async e => {\n            e.stopPropagation();\n\n            var year = 0;\n            try {\n              year = parseInt(yearInput, 10);\n            } catch (e) {\n              setErrMsg(`invalid year value: ${e}`);\n              return;\n            }\n\n            var term: SeasonTerm = 'winter';\n            if (isSeasonTerm(termInput)) {\n              term = termInput;\n            } else {\n              setErrMsg(`invalid season term: ${termInput}`);\n              return;\n            }\n\n            var type: LeagueType = 'team_8ball';\n            if (isLeagueType(typeInput)) {\n              term = termInput;\n            } else {\n              setErrMsg(`invalid league type: ${termInput}`);\n              return;\n            }\n\n            var xref = 0;\n            try {\n              xref = parseInt(xrefInput, 10);\n            } catch (e) {\n              setErrMsg(`invalid amsterdam key: ${e}`);\n              return;\n            }\n\n            var numWeeks = 0;\n            try {\n              numWeeks = parseInt(numWeeksInput, 10);\n            } catch (e) {\n              setErrMsg(`invalid amsterdam key: ${e}`);\n              return;\n            }\n\n            const nights: DayOfWeek[] = [];\n            if (monday) {\n              nights.push('monday');\n            }\n            if (tuesday) {\n              nights.push('tuesday');\n            }\n            if (wednesday) {\n              nights.push('wednesday');\n            }\n            if (thursday) {\n              nights.push('thursday');\n            }\n            if (friday) {\n              nights.push('friday');\n            }\n            if (saturday) {\n              nights.push('saturday');\n            }\n            if (sunday) {\n              nights.push('sunday');\n            }\n\n            try {\n              await saveSeason({\n                year,\n                term,\n                type,\n                xref,\n                name,\n                num_weeks: numWeeks,\n                nights,\n                divisions: nights.reduce((acc, night) => ({ ...acc, [night]: [] }), {}),\n              });\n            } catch ({ error }) {\n              setErrMsg(`failed to save season: ${error}`);\n            }\n          },\n        }}\n        errorMessage={errMsg}\n      />\n    </>\n  );\n}\n\nexport default NewSeason;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport Button from '@leafygreen-ui/button';\nimport Card from '@leafygreen-ui/card';\nimport Icon from '@leafygreen-ui/icon';\nimport { Menu, MenuItem } from '@leafygreen-ui/menu';\nimport Modal from '@leafygreen-ui/modal';\nimport { H2, Subtitle } from '@leafygreen-ui/typography';\n\nimport { useAtlas } from '../../realm';\nimport { Season } from '../../types';\n\nimport NewSeason from './new_season';\n\nconst StyledPage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst CardList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst CardTitle = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\ninterface Props {\n  seasons: Season[];\n  saveSeason: (season: Omit<Season, '_id'>) => Promise<void>;\n}\n\nfunction SeasonsDashboard({ seasons, saveSeason }: Props) {\n  const navTo = useNavigate();\n  const { data } = useAtlas();\n\n  const [modalOpen, setModalOpen] = useState(false);\n\n  if (!data) {\n    return null;\n  }\n\n  return (\n    <StyledPage>\n      <H2 style={{ marginBottom: '1rem' }}>Pick a season:</H2>\n      <CardList>\n        {seasons.map(season => (\n          <Card\n            style={{ minWidth: '360px' }}\n            key={season.xref}\n            onClick={() => navTo(`${season.year}/${season.term}/${season.type}`)}\n          >\n            <CardTitle>\n              <Subtitle>{season.name}</Subtitle>\n              <Menu\n                align=\"bottom\"\n                justify=\"start\"\n                trigger={\n                  <Button type=\"button\" size=\"xsmall\" onClick={e => e.stopPropagation()} name=\"options\">\n                    <Icon glyph=\"Ellipsis\" />\n                  </Button>\n                }\n              >\n                <MenuItem onClick={() => console.log(`psyche! like i'd let you do this...`)}>Delete season</MenuItem>\n              </Menu>\n            </CardTitle>\n          </Card>\n        ))}\n        <Card style={{ minWidth: '180px' }} onClick={() => setModalOpen(true)}>\n          Create a new season...\n        </Card>\n      </CardList>\n      <Modal open={modalOpen} setOpen={setModalOpen}>\n        <NewSeason saveSeason={s => saveSeason(s).then(() => setModalOpen(false))} />\n      </Modal>\n    </StyledPage>\n  );\n}\n\nexport default SeasonsDashboard;\n","import React, { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { useAtlas } from '../../realm';\nimport { Season, Team } from '../../types';\n\nimport SeasonPage from '../season';\n\nimport Dashboard from './dashboard';\n\nfunction SeasonsRouter() {\n  const { data } = useAtlas();\n\n  const [seasons, setSeasons] = useState<Season[]>([]);\n  useEffect(() => {\n    if (!data) {\n      return;\n    }\n    data.seasons().find().then(setSeasons);\n  }, [data]);\n\n  if (!data) {\n    return null; // unreachable in a protected route\n  }\n\n  const loadPlayerMatches = (seasonXref: number) => data.playerMatches().find({ season_xref: seasonXref });\n\n  const loadTeams = (seasonXref: number) => data.teams().find({ season_xref: seasonXref });\n\n  const loadTeamMatches = (seasonXref: number) => data.teamMatches().find({ season_xref: seasonXref });\n\n  const saveDivisions = (seasonXref: number, divisions: Season['divisions']) =>\n    data\n      .seasons()\n      .updateOne({ xref: seasonXref }, { $set: { divisions } })\n      .then(({ modifiedCount }) => {\n        if (modifiedCount !== 1) {\n          throw new Error('failed to update season ' + seasonXref);\n        }\n        setSeasons(\n          seasons.map(season => {\n            if (season.xref !== seasonXref) {\n              return season;\n            }\n            return { ...season, divisions };\n          }),\n        );\n      });\n\n  const saveSeason = (season: Omit<Season, '_id'>) =>\n    data\n      .seasons()\n      .insertOne(season)\n      .then(({ insertedId }) => setSeasons([...seasons, { ...season, _id: insertedId }]));\n\n  const saveTeams = (seasonXref: number, teams: Omit<Team, '_id' | 'season_xref' | 'schedule'>[]) =>\n    data\n      .teams()\n      .insertMany(teams.map(team => ({ ...team, season_xref: seasonXref, schedule: [] })))\n      .then(() => {});\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Dashboard seasons={seasons} saveSeason={saveSeason} />} />\n      <Route\n        path=\":year/:term/:type/*\"\n        element={\n          <SeasonPage\n            seasons={seasons}\n            loadPlayerMatches={loadPlayerMatches}\n            loadTeams={loadTeams}\n            loadTeamMatches={loadTeamMatches}\n            saveDivisions={saveDivisions}\n            saveTeams={saveTeams}\n          />\n        }\n      />\n    </Routes>\n  );\n}\n\nexport default SeasonsRouter;\n","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { LoginPage, ProtectedRoute } from './auth';\nimport { Header, MobileHeader } from './headers';\n\nimport HomePage from '../pages/home';\nimport SeasonsPage from '../pages/seasons';\n\nfunction App() {\n  const isMobile = useMediaQuery({ query: '(max-width: 720px)' });\n  return (\n    <>\n      {isMobile ? <MobileHeader /> : <Header />}\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <ProtectedRoute>\n              <HomePage />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"seasons/*\"\n          element={\n            <ProtectedRoute>\n              <SeasonsPage />\n            </ProtectedRoute>\n          }\n        />\n        <Route path=\"login\" element={<LoginPage />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { css } from '@emotion/react'\n\nconst CDN = 'https://d2va9gm4j17fy9.cloudfront.net';\nconst fontsURL = `${CDN}/fonts`;\n\nconst docStyles = css`\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: normal;\n    src: url('${fontsURL}/akzidgrostdreg.eot');\n    /* IE9 Compat Modes */\n    src: url('${fontsURL}/akzidgrostdreg.eot?#iefix')\n        format('embedded-opentype'),\n      /* Pretty Modern Browsers */ url('${fontsURL}/akzidgrostdreg.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('${fontsURL}/akzidgrostdreg.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: 600;\n    src: url('${fontsURL}/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('${fontsURL}/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('${fontsURL}/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('${fontsURL}/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('${fontsURL}/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: bold;\n    src: url('${fontsURL}/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('${fontsURL}/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('${fontsURL}/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('${fontsURL}/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('${fontsURL}/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  html {\n    font-family: 'Akzidenz', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n`\n\n\nconst meyersWebReset = css`\n/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n`;\n\n\nfunction styles() {\n  return [\n    meyersWebReset,\n    docStyles,\n  ]\n}\n\nexport default styles;\n","import { palette } from '@leafygreen-ui/palette';\n\nconst theme = {\n  colors: {\n    black: '#000000',\n    white: '#ffffff',\n    offwhite: '#fffed1',\n    grays: {\n      base: '#282c34',\n    },\n    reds: {\n      base: '#4d0a05',\n      light1: '#8a1a10',\n      light2: '#b42619',\n      light3: '#df3121',\n    },\n    blues: {\n      light1: '#61dafb',\n    },\n    lg: palette,\n  },\n  typography: {\n    fonts: {\n      code: `source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace`,\n    },\n  },\n};\n\nexport type Theme = typeof theme;\nexport default theme;\n","import React from 'react';\nimport { Global, ThemeProvider } from '@emotion/react';\nimport LeafygreenProvider from '@leafygreen-ui/leafygreen-provider';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './app';\nimport { AtlasProvider, RealmProvider } from './realm';\nimport reportWebVitals from './reportWebVitals';\nimport styles from './styles';\nimport theme from './theme';\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <RealmProvider>\n        <AtlasProvider>\n          <LeafygreenProvider>\n            <ThemeProvider theme={theme}>\n              <Global styles={styles} />\n              <App />\n            </ThemeProvider>\n          </LeafygreenProvider>\n        </AtlasProvider>\n      </RealmProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n// reportWebVitals(console.log);\n"],"sourceRoot":""}